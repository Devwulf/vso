(this["webpackJsonpvisual-scripting"]=this["webpackJsonpvisual-scripting"]||[]).push([[0],{138:function(e,t,n){},139:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(33),i=n.n(r),l=(n(75),n(76),n(77),n(28)),c=n(70),u=n(14),s=n(1),d=n(2),f=n(6),h=n(3),m=n(4),p=n(8),v=n(21),b=n(23),g=n(17),y=n.n(g),w=n(22),S=n(65),N=n(66);Array.prototype.indexOfWhen=function(e){for(var t=0;t<this.length;){if(e(this[t]))return t;t++}};var x,O,E,C,j,I,V,k,T,M,F,D,B,R,L,A,P,G,W=new(function(){function e(){Object(s.a)(this,e),this.currentScriplet=void 0}return Object(d.a)(e,[{key:"selectScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentScriplet||this.currentScriplet.id!==t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,ft.getScriplet(t).then((function(e){return n.currentScriplet=e,!0})).catch((function(e){return console.error("Something went wrong when getting the scriplet of id '".concat(t,"'. Error: ").concat(e)),!1}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),H=new(function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"getInputSlot",value:function(e,t){var n,a=W.currentScriplet;if(a){var o=a.getNode(e);if(o){var r=null===(n=o.schema)||void 0===n?void 0:n.inputSlots.find((function(e){return e.id===t}));if(r)return r;console.error("The input slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"getInputSlots",value:function(e){var t,n=W.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),[];var a=n.getNode(e);if(!a)return console.error("The node item of id '".concat(e,"' could not be found.")),[];var o=null===(t=a.schema)||void 0===t?void 0:t.inputSlots;return o||(console.error("The schema of node item '".concat(e,"' could not be found.")),[])}},{key:"getInputConnections",value:function(e){var t=W.currentScriplet;if(!t)return console.error("The current scriplet could not be found."),[];var n=t.getNode(e);return n?n.inputSlots:(console.error("The node item of id '".concat(e,"' could not be found.")),[])}},{key:"getOutputSlot",value:function(e,t){var n,a=W.currentScriplet;if(a){var o=a.getNode(e);if(o){var r=null===(n=o.schema)||void 0===n?void 0:n.outputSlots.find((function(e){return e.id===t}));if(r)return r;console.error("The input slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"getOutputSlots",value:function(e){var t,n=W.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),[];var a=n.getNode(e);if(!a)return console.error("The node item of id '".concat(e,"' could not be found.")),[];var o=null===(t=a.schema)||void 0===t?void 0:t.outputSlots;return o||(console.error("The schema of node item '".concat(e,"' could not be found.")),[])}},{key:"getOutputConnections",value:function(e){var t=W.currentScriplet;if(!t)return console.error("The current scriplet could not be found."),new Map;var n=t.getNode(e);return n?n.outputSlots:(console.error("The node item of id '".concat(e,"' could not be found.")),new Map)}},{key:"addConnection",value:function(e,t,n,a){var o,r;if(e!==n){var i=W.currentScriplet;if(i){var l=i.getNode(e);if(l){var c=null===(o=l.schema)||void 0===o?void 0:o.inputSlots.find((function(e){return e.id===t}));if(c){var u=i.getNode(n);if(u){var s=null===(r=u.schema)||void 0===r?void 0:r.outputSlots.find((function(e){return e.id===a}));if(s){if(c.isCorrectType(s.type)&&c.isConnectable){var d=l.getInputConnection(c.id);d&&this.deleteConnection(e,t,d.itemId,d.slotId),l.setInputConnection(c.id,n,a),u.setOutputConnection(s.id,e,t),i.updateNodes()}}else console.error("The output slot of id '".concat(a,"' from node item '").concat(n,"' could not be found."))}else console.error("The node item of id '".concat(n,"' could not be found."))}else console.error("The input slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}else console.error("When adding connections, the input item id cannot be the same as the output item id.")}},{key:"deleteConnection",value:function(e,t,n,a){var o,r,i=W.currentScriplet;if(i){var l=i.getNode(e);if(l)if(null===(o=l.schema)||void 0===o?void 0:o.inputSlots.find((function(e){return e.id===t}))){var c=i.getNode(n);if(c)(null===(r=c.schema)||void 0===r?void 0:r.outputSlots.find((function(e){return e.id===a})))?(l.deleteInputConnection(t),c.deleteOutputConnection(a,e,t),i.updateNodes()):console.error("The input slot of id '".concat(a,"' from node item '").concat(n,"' could not be found."));else console.error("The node item of id '".concat(n,"' could not be found."))}else console.error("The input slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."));else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"checkGraphCycleExists",value:function(e,t){var n=W.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),!0;var a=n.getNode(t);if(!a)return console.error("The node item of id '".concat(t,"' could not be found.")),!0;if(a.inputSlots.length<=0)return!1;if(a.inputSlots.some((function(t){return t.itemId===e})))return!0;for(var o=!1,r=0;r<a.inputSlots.length;r++){var i=a.inputSlots[r];if(i){var l=i.itemId;if(o=this.checkGraphCycleExists(e,l))break}}return o}},{key:"getInputFlowSlot",value:function(e,t){var n,a=W.currentScriplet;if(a){var o=a.getNode(e);if(o){var r=null===(n=o.schema)||void 0===n?void 0:n.inputFlowSlots.find((function(e){return e.id===t}));if(r)return r;console.error("The input flow slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"getInputFlowSlots",value:function(e){var t,n=W.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),[];var a=n.getNode(e);if(!a)return console.error("The node item of id '".concat(e,"' could not be found.")),[];var o=null===(t=a.schema)||void 0===t?void 0:t.inputFlowSlots;return o||(console.error("The schema of node item '".concat(e,"' could not be found.")),[])}},{key:"getInputFlowConnections",value:function(e){var t=W.currentScriplet;if(!t)return console.error("The current scriplet could not be found."),[];var n=t.getNode(e);return n?n.inputFlowSlots:(console.error("The node item of id '".concat(e,"' could not be found.")),[])}},{key:"getOutputFlowSlot",value:function(e,t){var n,a=W.currentScriplet;if(a){var o=a.getNode(e);if(o){var r=null===(n=o.schema)||void 0===n?void 0:n.outputFlowSlots.find((function(e){return e.id===t}));if(r)return r;console.error("The input flow slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"getOutputFlowSlots",value:function(e){var t,n=W.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),[];var a=n.getNode(e);if(!a)return console.error("The node item of id '".concat(e,"' could not be found.")),[];var o=null===(t=a.schema)||void 0===t?void 0:t.outputFlowSlots;return o||(console.error("The schema of node item '".concat(e,"' could not be found.")),[])}},{key:"getOutputFlowConnections",value:function(e){var t=W.currentScriplet;if(!t)return console.error("The current scriplet could not be found."),[];var n=t.getNode(e);return n?n.outputFlowSlots:(console.error("The node item of id '".concat(e,"' could not be found.")),[])}},{key:"addFlowConnection",value:function(e,t,n,a){var o,r;if(e!==n){var i=W.currentScriplet;if(i){var l=i.getNode(e);if(l){var c=null===(o=l.schema)||void 0===o?void 0:o.inputFlowSlots.find((function(e){return e.id===t}));if(c){var u=i.getNode(n);if(u){var s=null===(r=u.schema)||void 0===r?void 0:r.outputFlowSlots.find((function(e){return e.id===a}));if(s){if(c.isConnectable){var d=l.getInputFlowConnection(t);d&&this.deleteFlowConnection(e,t,d.itemId,d.slotId),l.setInputFlowConnection(c.id,n,a);var f=u.getOutputFlowConnection(a);f&&this.deleteFlowConnection(f.itemId,f.slotId,n,a),u.setOutputFlowConnection(s.id,e,t),i.updateNodes()}}else console.error("The input flow slot of id '".concat(a,"' from node item '").concat(n,"' could not be found."))}else console.error("The node item of id '".concat(n,"' could not be found."))}else console.error("The input flow slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}else console.error("When adding connections, the input item id cannot be the same as the output item id.")}},{key:"deleteFlowConnection",value:function(e,t,n,a){var o,r,i=W.currentScriplet;if(i){var l=i.getNode(e);if(l)if(null===(o=l.schema)||void 0===o?void 0:o.inputFlowSlots.find((function(e){return e.id===t}))){var c=i.getNode(n);if(c)(null===(r=c.schema)||void 0===r?void 0:r.outputFlowSlots.find((function(e){return e.id===a})))?(l.deleteInputFlowConnection(t),c.deleteOutputFlowConnection(a),i.updateNodes()):console.error("The input flow slot of id '".concat(a,"' from node item '").concat(n,"' could not be found."));else console.error("The node item of id '".concat(n,"' could not be found."))}else console.error("The input flow slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."));else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"checkFlowGraphCycleExists",value:function(e,t){var n=W.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),!0;var a=n.getNode(t);if(!a)return console.error("The node item of id '".concat(t,"' could not be found.")),!0;if(a.inputFlowSlots.length<=0)return!1;if(a.inputFlowSlots.some((function(t){return t.itemId===e})))return!0;for(var o=!1,r=0;r<a.inputFlowSlots.length;r++){var i=a.inputFlowSlots[r];if(i){var l=i.itemId;if(o=this.checkGraphCycleExists(e,l))break}}return o}},{key:"deleteAllConnections",value:function(e){var t=this,n=W.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),!1;var a=n.getNode(e);return a?(a.outputSlots.forEach((function(n){n.forEach((function(n){t.deleteConnection(n.itemId,n.slotId,e,n.id)}))})),a.inputSlots.forEach((function(n){n&&t.deleteConnection(e,n.id,n.itemId,n.slotId)})),a.inputFlowSlots.forEach((function(n){n&&t.deleteFlowConnection(e,n.id,n.itemId,n.slotId)})),a.outputFlowSlots.forEach((function(n){n&&t.deleteFlowConnection(n.itemId,n.slotId,e,n.id)})),!0):(console.error("The node item of id '".concat(e,"' could not be found.")),!1)}}]),e}()),q=function e(t,n){Object(s.a)(this,e),this.id=void 0,this.name=void 0,this.id=t,this.name=n},z=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e,a,o){var r;return Object(s.a)(this,n),(r=t.call(this,e,o)).type=void 0,r.type=a,r}return Object(d.a)(n,[{key:"isCorrectType",value:function(e){return this.type===e}}]),n}(q),U=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e,a,o,r,i,l){var c;return Object(s.a)(this,n),(c=t.call(this,e,a,r)).defaultValue=void 0,c.isConnectable=void 0,c.isEditable=void 0,c.defaultValue=o,c.isConnectable=null===i||void 0===i||i,c.isEditable=null===l||void 0===l||l,c}return Object(d.a)(n,[{key:"getValue",value:function(e){var t,n=W.currentScriplet;if(n){var a=n.getNode(e);if(a){var o=a.getInputConnection(this.id);if(!o)return null!==(t=a.getInputValue(this.id))&&void 0!==t?t:this.defaultValue;var r,i=H.getOutputSlot(o.itemId,o.slotId);return i?i.evaluate():(console.error("The output slot '".concat(o.slotId,"' of node item '").concat(o.itemId,"' could not be found.")),null!==(r=a.getInputValue(this.id))&&void 0!==r?r:this.defaultValue)}console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}}]),n}(z),K=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e,a,o,r){var i;return Object(s.a)(this,n),(i=t.call(this,e,a,r)).evaluate=void 0,i.evaluate=o,i}return n}(z),X=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return n}(q),Y=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e,a,o,r){var i;return Object(s.a)(this,n),(i=t.call(this,e,r)).isConnectable=void 0,i.evaluate=void 0,i.returnToSlot=void 0,i.evaluate=a,i.isConnectable=null===o||void 0===o||o,i}return Object(d.a)(n,[{key:"evaluateSlot",value:function(e){this.evaluate(this,e)}}]),n}(X),J=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"goNext",value:function(e,t){var n=W.currentScriplet;if(n){var a=n.getNode(e);if(a){var o=a.getOutputFlowConnection(this.id);if(o){var r=H.getInputFlowSlot(o.itemId,o.slotId);return r?void r.evaluateSlot(t):void console.error("The input flow slot '".concat(o.slotId,"' of node item '").concat(o.itemId,"' could not be found."))}if(t){var i=H.getInputFlowSlot(t.itemId,t.slotId);return i?void i.evaluateSlot():void console.error("The input flow slot '".concat(t.slotId,"' of node item '").concat(t.itemId,"' could not be found."))}}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}}]),n}(X),Z=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getValue",value:function(e){var t,n=W.currentScriplet;if(n){var a=n.getNode(e);if(a){var o=a.variableId;if(null!=o){var r=n.getVariable(o);if(r)return null!==(t=r.value)&&void 0!==t?t:r.startValue;console.error("The variable of id '".concat(o,"' could not be found."))}else console.error("The variable id in node item '".concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}}]),n}(U),Q=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getValue",value:function(e){var t,n=W.currentScriplet;if(n){var a=n.getNode(e);if(a){var o=a.variableId;if(null!=o){var r=n.getInput(o);if(r)return null!==(t=r.value)&&void 0!==t?t:r.startValue;console.error("The input variable of id '".concat(o,"' could not be found."))}else console.error("The variable id in node item '".concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}}]),n}(U);var $=function(e){return e}(x=function(e){return e}(x=function(e){return e}((E=O=function(){function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t}return Object(d.a)(e,null,[{key:"convertFromString",value:function(e){var t="^(-[1-9][0-9]*)|([0-9]+)$";if(e.match(t))return parseInt(e);console.error("The input doesn't match the regex '".concat(t,"'."))}},{key:"convertToString",value:function(e){return"".concat(e)}}]),e}(),O.className="Number",O.defaultValue=0,x=E))||x)||x)||x,_=function(e){return e}(C=function(e){return e}(C=function(e){return e}((I=j=function(){function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t}return Object(d.a)(e,null,[{key:"convertFromString",value:function(e){return e}},{key:"convertToString",value:function(e){return e}}]),e}(),j.className="String",j.defaultValue="",C=I))||C)||C)||C,ee=function(e){return e}(V=function(e){return e}(V=function(e){return e}((T=k=function(){function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t}return Object(d.a)(e,null,[{key:"convertFromString",value:function(e){return"true"===e}},{key:"convertToString",value:function(e){return"".concat(e)}}]),e}(),k.className="Boolean",k.defaultValue=!0,V=T))||V)||V)||V,te=function(e){return e}(M=function(e){return e}(M=function(e){return e}((D=F=function(){function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t}return Object(d.a)(e,null,[{key:"convertFromString",value:function(e){if(e.match("^([0-9]+)$"))return parseInt(e);console.error("The input doesn't match the regex '".concat("^([0-9]+)$","'."))}},{key:"convertToString",value:function(e){return"".concat(e)}}]),e}(),F.className="Flow",F.defaultValue=-1,M=D))||M)||M)||M,ne=function(e){return e}(B=function(e){return e}((L=R=function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t},R.className="Variable",R.defaultValue=-1,B=L))||B)||B,ae=(function(e){}(A=function(e){return e}((G=P=function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t},P.className="Any",P.defaultValue=void 0,A=G))||A),n(25)),oe=new(function(){function e(){Object(s.a)(this,e),this.nodeSchemas=void 0,this.nodeSchemas=new Map}return Object(d.a)(e,[{key:"getNewSchema",value:function(e,t){var n=this.nodeSchemas.get(t);if(!n)throw new Error("The schema '".concat(t,"' could not be found."));return n.createNew(e)}},{key:"getBaseSchema",value:function(e){var t=this.nodeSchemas.get(e);if(!t)throw new Error("The schema '".concat(e,"' could not be found."));return t}},{key:"getBaseSchemas",value:function(){return Object(ae.a)(this.nodeSchemas.values())}}]),e}()),re=function e(){Object(s.a)(this,e)};re.Gray={100:"#f7fafc",200:"#edf2f7",300:"#e2e8f0",400:"#cbd5e0",500:"#a0aec0",600:"#718096",700:"#4a5568",800:"#2d3748",900:"#1a202c"},re.Red={100:"#fff5f5",200:"#fed7d7",300:"#feb2b2",400:"#fc8181",500:"#f56565",600:"#e53e3e",700:"#c53030",800:"#9b2c2c",900:"#742a2a"},re.Orange={100:"#fffaf0",200:"#feebc8",300:"#fbd38d",400:"#f6ad55",500:"#ed8936",600:"#dd6b20",700:"#c05621",800:"#9c4221",900:"#7b341e"},re.Yellow={100:"#fffff0",200:"#fefcbf",300:"#faf089",400:"#f6e05e",500:"#ecc94b",600:"#d69e2e",700:"#b7791f",800:"#975a16",900:"#744210"},re.Green={100:"#f0fff4",200:"#c6f6d5",300:"#9ae6b4",400:"#68d391",500:"#48bb78",600:"#38a169",700:"#2f855a",800:"#276749",900:"#22543d"},re.Teal={100:"#e6fffa",200:"#b2f5ea",300:"#81e6d9",400:"#4fd1c5",500:"#38b2ac",600:"#319795",700:"#2c7a7b",800:"#285e61",900:"#234e52"},re.Blue={100:"#ebf8ff",200:"#bee3f8",300:"#90cdf4",400:"#63b3ed",500:"#4299e1",600:"#3182ce",700:"#2b6cb0",800:"#2c5282",900:"#2a4365"},re.Indigo={100:"#ebf4ff",200:"#c3dafe",300:"#a3bffa",400:"#7f9cf5",500:"#667eea",600:"#5a67d8",700:"#4c51bf",800:"#434190",900:"#3c366b"},re.Purple={100:"#faf5ff",200:"#e9d8fd",300:"#d6bcfa",400:"#b794f4",500:"#9f7aea",600:"#805ad5",700:"#6b46c1",800:"#553c9a",900:"#44337a"},re.Pink={100:"#fff5f7",200:"#fed7e2",300:"#fbb6ce",400:"#f687b3",500:"#ed64a6",600:"#d53f8c",700:"#b83280",800:"#97266d",900:"#702459"};var ie,le,ce,ue,se,de,fe,he,me,pe,ve,be,ge,ye,we,Se,Ne,xe,Oe,Ee,Ce,je,Ie,Ve,ke,Te,Me,Fe,De,Be,Re,Le,Ae,Pe,Ge,We,He,qe,ze,Ue,Ke,Xe,Ye,Je,Ze,Qe,$e,_e,et,tt,nt,at,ot,rt=n(67),it=new(function(){function e(){Object(s.a)(this,e),this.onMessage=new rt.SimpleEventDispatcher}return Object(d.a)(e,[{key:"subscribe",value:function(e){this.onMessage.subscribe(e)}},{key:"log",value:function(e){this.onMessage.dispatch({message:e,color:re.Gray[100]})}},{key:"error",value:function(e){this.onMessage.dispatch({message:e,color:re.Red[500]})}},{key:"success",value:function(e){this.onMessage.dispatch({message:e,color:re.Green[400]})}}]),e}());function lt(e){var t=e;function n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object(N.a)(e,n)}var a=function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return n.apply(void 0,[t].concat(a))};a.prototype=t.prototype;var o=a();oe.nodeSchemas.set(o.id,o.createNew(-1))}!function(e){e.Start="Hidden/Start",e.IfElse="Base/ControlFlow/IfElse",e.ForLoop="Base/ControlFlow/ForLoop",e.ForLoopBreak="Base/ControlFlow/ForLoopBreak",e.WhileLoop="Base/ControlFlow/WhileLoop",e.Input="Hidden/Input",e.Output="Hidden/Output",e.InputNumber="Hidden/Input/Number",e.OutputNumber="Hidden/Output/Number",e.PrintNumber="Base/Debug/PrintNumber",e.GetNumber="Hidden/Getter/Number",e.SetNumber="Hidden/Setter/Number",e.InputBoolean="Hidden/Input/Boolean",e.OutputBoolean="Hidden/Output/Boolean",e.PrintBoolean="Base/Debug/PrintBoolean",e.GetBoolean="Hidden/Getter/Boolean",e.SetBoolean="Hidden/Setter/Boolean",e.InputString="Hidden/Input/String",e.OutputString="Hidden/Output/String",e.PrintString="Base/Debug/PrintString",e.GetString="Hidden/Getter/String",e.SetString="Hidden/Setter/String",e.AddNumbers="Base/Math/Number/Add",e.SubtractNumbers="Base/Math/Number/Subtract",e.MultiplyNumbers="Base/Math/Number/Multiply",e.DivideNumbers="Base/Math/Number/Divide",e.ModuloNumbers="Base/Math/Number/Modulo",e.PowNumbers="Base/Math/Number/Power",e.SqrtNumber="Base/Math/Number/SquareRoot",e.CeilNumber="Base/Math/Number/Ceiling",e.FloorNumber="Base/Math/Number/Floor",e.LessThanNumbers="Base/Math/Number/LessThan",e.LessThanEqualNumbers="Base/Math/Number/LessThanEqual",e.GreaterThanNumbers="Base/Math/Number/GreaterThan",e.GreaterThanEqualNumbers="Base/Math/Number/GreaterThanEqual",e.EqualNumbers="Base/Math/Number/Equal",e.NotEqualNumbers="Base/Math/Number/NotEqual",e.AndBoolean="Base/Math/Boolean/And",e.OrBoolean="Base/Math/Boolean/Or",e.EqualBoolean="Base/Math/Boolean/Equal",e.NotEqualBoolean="Base/Math/Boolean/NotEqual",e.NotBoolean="Base/Math/Boolean/Not",e.AppendString="Base/Utils/String/Append",e.ContainsString="Base/Utils/String/Contains",e.StartsWithString="Base/Utils/String/StartsWith",e.EndsWithString="Base/Utils/String/EndsWith",e.EqualString="Base/Utils/String/Equal",e.NotEqualString="Base/Utils/String/NotEqual",e.LengthString="Base/Utils/String/Length",e.MatchesRegexString="Base/Utils/String/MatchesRegex",e.ReplaceSubstring="Base/Utils/String/ReplaceSubstring",e.ReplaceAtIndexString="Base/Utils/String/ReplaceAtIndex",e.ReverseString="Base/Utils/String/Reverse",e.SplitString="Base/Utils/String/Split",e.ToLowerCaseString="Base/Utils/String/ToLowerCase",e.ToUpperCaseString="Base/Utils/String/ToUpperCase"}(ot||(ot={}));var ct=function(){function e(t,n,a,o,r,i,l,c){var u=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],d=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];Object(s.a)(this,e),this.id=void 0,this.name=void 0,this.uniqueNamePrefix=void 0,this.width=void 0,this.inputFlowSlots=void 0,this.outputFlowSlots=void 0,this.inputSlots=void 0,this.outputSlots=void 0,this.isDeletable=void 0,this.isNameEditable=void 0,this.id=t,this.name=n,this.uniqueNamePrefix=a,this.width=o,this.inputFlowSlots=r,this.outputFlowSlots=i,this.inputSlots=l,this.outputSlots=c,this.isDeletable=u,this.isNameEditable=d}return Object(d.a)(e,[{key:"maxLength",value:function(){return Math.max(this.inputFlowSlots.length+this.inputSlots.length,this.outputFlowSlots.length+this.outputSlots.length)}},{key:"createNew",value:function(e){return this.createNewSchema(e)}}]),e}(),ut=(lt(ie=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.Start,o=new J(0,"Body"),r=[o],i=[new Y(0,(function(){o.goNext(e)}),!1," ")];return t.call(this,a,"Start","start",120,i,r,[],[],!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(le=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.IfElse,o=new U(1,ee.className,ee.defaultValue,"Condition"),r=[o],i=new J(0,"True"),l=new J(1,"False"),c=[i,l],u=[new Y(0,(function(t,n){!0===o.getValue(e)?i.goNext(e,n):l.goNext(e,n)}),!0,"Entry")];return t.call(this,a,"If/Else","ifElse",220,u,c,r,[])}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(ce=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(s.a)(this,n);var o=ot.ForLoop,r=new J(0,"Body"),i=new J(1,"Exit"),l=[r,i],c=new U(1,$.className,$.defaultValue,"Start"),u=new U(2,$.className,10,"End"),d=new U(3,$.className,1,"Increment"),f=[c,u,d],h=[new K(2,$.className,(function(){var e;return a.index-(null!==(e=a.increment)&&void 0!==e?e:1)}),"Index")],m=[new Y(0,(function(t,n){var o,l;(t.returnToSlot||(t.returnToSlot=n),null==a.start||null==a.end||null==a.increment)&&(a.start=c.getValue(e),a.end=u.getValue(e),a.increment=d.getValue(e),a.index=null!==(l=a.start)&&void 0!==l?l:0);if(a.index<(null!==(o=a.end)&&void 0!==o?o:0)){var s;a.index+=null!==(s=a.increment)&&void 0!==s?s:1,r.goNext(e,{id:-1,itemId:e,slotId:t.id})}else{var f=t.returnToSlot;t.returnToSlot=void 0,a.index=0,a.start=void 0,a.end=void 0,i.goNext(e,f)}}),!0,"Entry")];return(a=t.call(this,o,"For Loop","forLoop",200,m,l,f,h)).start=void 0,a.end=void 0,a.increment=void 0,a.index=void 0,a.index=0,a}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(ue=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(s.a)(this,n);var o=ot.ForLoopBreak,r=new J(0,"Body"),i=new J(1,"Exit"),l=[r,i],c=new U(2,$.className,$.defaultValue,"Start"),u=new U(3,$.className,10,"End"),d=new U(4,$.className,1,"Increment"),f=[c,u,d],h=[new K(2,$.className,(function(){var e;return a.index-(null!==(e=a.increment)&&void 0!==e?e:1)}),"Index")],m=[new Y(0,(function(t,n){var o,l;(t.returnToSlot||(t.returnToSlot=n),null==a.start||null==a.end||null==a.increment)&&(a.start=c.getValue(e),a.end=u.getValue(e),a.increment=d.getValue(e),a.index=null!==(l=a.start)&&void 0!==l?l:0);if(a.index<(null!==(o=a.end)&&void 0!==o?o:0)){var s;a.index+=null!==(s=a.increment)&&void 0!==s?s:1,r.goNext(e,{id:-1,itemId:e,slotId:t.id})}else{var f=t.returnToSlot;t.returnToSlot=void 0,a.index=0,a.start=void 0,a.end=void 0,i.goNext(e,f)}}),!0,"Entry"),new Y(1,(function(t,n){var o=t.returnToSlot;t.returnToSlot=void 0,a.index=0,a.start=void 0,a.end=void 0,i.goNext(e,o)}),!0,"Break")];return(a=t.call(this,o,"For Loop Break","forLoopBreak",200,m,l,f,h)).start=void 0,a.end=void 0,a.increment=void 0,a.index=void 0,a.index=0,a}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(se=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(s.a)(this,n);var o=ot.WhileLoop,r=new J(0,"Body"),i=new J(1,"Exit"),l=[r,i],c=new U(1,ee.className,ee.defaultValue,"Condition"),u=new U(2,$.className,1e4,"Limit"),d=[c,u],f=[new Y(0,(function(t,n){if(t.returnToSlot||(t.returnToSlot=n),null==a.limit&&(a.limit=u.getValue(e)),null==a.limit&&console.error("The limit of while loop of id '".concat(e,"' is undefined, therefore this while loop won't run. Set it to 0 if it is intended to run forever.")),c.getValue(e)&&null!=a.limit&&a.counter<(a.limit<=0?1:a.limit))a.limit>0&&(a.counter+=1),r.goNext(e,{id:-1,itemId:e,slotId:t.id});else{var o=t.returnToSlot;t.returnToSlot=void 0,a.counter=0,a.limit=void 0,i.goNext(e,o)}}),!0,"Entry")];return(a=t.call(this,o,"While Loop","whileLoop",200,f,l,d,[])).limit=void 0,a.counter=void 0,a.counter=0,a}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(de=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.Input,o=new Z(0,ne.className,ne.defaultValue,"Get Variable",!1,!1),r=[o],i=[new K(0,$.className,(function(){return o.getValue(e)}))];return t.call(this,a,"Input","input",180,[],[],r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(fe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){Object(s.a)(this,n);var e=ot.Output,a=[new U(0,$.className,$.defaultValue)];return t.call(this,e,"Output","output",120,[],[],a,[])}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n}}]),n}(ct)),lt(he=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.InputNumber,o=new Q(0,ne.className,ne.defaultValue,"Get Input",!1,!1),r=[o],i=[new K(0,$.className,(function(){return o.getValue(e)}))];return t.call(this,a,"Input Number","inputNum",170,[],[],r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(me=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.PrintNumber,o=new U(1,$.className,$.defaultValue),r=[o],i=[new K(1,$.className,(function(){return o.getValue(e)}))],l=new J(0,"Exit"),c=[l],u=[new Y(0,(function(t,n){it.log(o.getValue(e)),l.goNext(e,n)}),!0,"Entry")];return t.call(this,a,"Print Number","printNum",205,u,c,r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(pe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.GetNumber,o=new Z(0,ne.className,ne.defaultValue,"Get Variable",!1,!1),r=[o],i=[new K(0,$.className,(function(){return o.getValue(e)}))];return t.call(this,a,"Get Number","getNum",180,[],[],r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(ve=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.SetNumber,o=new U(1,$.className,$.defaultValue),r=[o],i=[new K(1,$.className,(function(){return o.getValue(e)}))],l=new J(0,"Exit"),c=[l],u=[new Y(0,(function(t,n){var a=W.currentScriplet;if(a){var r=a.getNode(e);if(r){var i=r.variableId;if(null!=i){var c=a.getVariable(i);c?c.type===$.className?(c.value=o.getValue(e),a.setVariable(c),l.goNext(e,n)):console.error("Cannot set to variable '".concat(i,"' of type '").concat(c.type,"' when the needed type is '").concat($.className,"'.")):console.error("The variable of id '".concat(i,"' could not be found."))}else console.error("The variable id in node item '".concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}),!0,"Set Variable")];return t.call(this,a,"Set Number","setNum",205,u,c,r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(be=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.InputBoolean,o=new Q(0,ne.className,ne.defaultValue,"Get Input",!1,!1),r=[o],i=[new K(0,ee.className,(function(){return o.getValue(e)}))];return t.call(this,a,"Input Boolean","inputBool",170,[],[],r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(ge=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.PrintBoolean,o=new U(1,ee.className,ee.defaultValue),r=[o],i=[new K(1,ee.className,(function(){return o.getValue(e)}))],l=new J(0,"Exit"),c=[l],u=[new Y(0,(function(t,n){it.log(o.getValue(e)),l.goNext(e,n)}),!0,"Entry")];return t.call(this,a,"Print Boolean","printBool",205,u,c,r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(ye=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.GetBoolean,o=new Z(0,ne.className,ne.defaultValue,"Get Variable",!1,!1),r=[o],i=[new K(0,ee.className,(function(){return o.getValue(e)}))];return t.call(this,a,"Get Boolean","getBool",180,[],[],r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(we=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.SetBoolean,o=new U(1,ee.className,ee.defaultValue),r=[o],i=[new K(1,ee.className,(function(){return o.getValue(e)}))],l=new J(0,"Exit"),c=[l],u=[new Y(0,(function(t,n){var a=W.currentScriplet;if(a){var r=a.getNode(e);if(r){var i=r.variableId;if(null!=i){var c=a.getVariable(i);c?c.type===ee.className?(c.value=o.getValue(e),a.setVariable(c),l.goNext(e,n)):console.error("Cannot set to variable '".concat(i,"' of type '").concat(c.type,"' when the needed type is '").concat(ee.className,"'.")):console.error("The variable of id '".concat(i,"' could not be found."))}else console.error("The variable id in node item '".concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}),!0,"Set Variable")];return t.call(this,a,"Set Boolean","setBoolean",205,u,c,r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Se=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.InputString,o=new Q(0,ne.className,ne.defaultValue,"Get Input",!1,!1),r=[o],i=[new K(0,_.className,(function(){return o.getValue(e)}))];return t.call(this,a,"Input String","inputStr",170,[],[],r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ne=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.PrintString,o=new U(1,_.className,_.defaultValue),r=[o],i=[new K(1,_.className,(function(){return o.getValue(e)}))],l=new J(0,"Exit"),c=[l],u=[new Y(0,(function(t,n){it.log(o.getValue(e)),l.goNext(e,n)}),!0,"Entry")];return t.call(this,a,"Print String","printStr",205,u,c,r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(xe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.GetString,o=new Z(0,ne.className,ne.defaultValue,"Get Variable",!1,!1),r=[o],i=[new K(0,_.className,(function(){return o.getValue(e)}))];return t.call(this,a,"Get String","getStr",180,[],[],r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Oe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.SetString,o=new U(1,_.className,_.defaultValue),r=[o],i=[new K(1,_.className,(function(){return o.getValue(e)}))],l=new J(0,"Exit"),c=[l],u=[new Y(0,(function(t,n){var a=W.currentScriplet;if(a){var r=a.getNode(e);if(r){var i=r.variableId;if(null!=i){var c=a.getVariable(i);c?c.type===_.className?(c.value=o.getValue(e),a.setVariable(c),l.goNext(e,n)):console.error("Cannot set to variable '".concat(i,"' of type '").concat(c.type,"' when the needed type is '").concat($.className,"'.")):console.error("The variable of id '".concat(i,"' could not be found."))}else console.error("The variable id in node item '".concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}),!0,"Set Variable")];return t.call(this,a,"Set String","setStr",205,u,c,r,i,!0,!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ee=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.AddNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,$.className,(function(){return o.getValue(e)+r.getValue(e)}),"Sum")];return t.call(this,a,"Add Numbers","addNums",200,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ce=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.SubtractNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,$.className,(function(){return o.getValue(e)-r.getValue(e)}),"Difference")];return t.call(this,a,"Subtract Numbers","subtractNums",220,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(je=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.MultiplyNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,$.className,(function(){return o.getValue(e)*r.getValue(e)}),"Product")];return t.call(this,a,"Multiply Numbers","multiplyNums",210,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ie=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.DivideNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,1),i=[o,r],l=[new K(0,$.className,(function(){return o.getValue(e)/(r.getValue(e)||1)}),"Quotient")];return t.call(this,a,"Divide Numbers","divideNums",210,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ve=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.ModuloNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,$.className,(function(){var t=o.getValue(e),n=r.getValue(e);return(t%n+n)%n}),"Modulo")];return t.call(this,a,"Modulo Numbers","moduloNums",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(ke=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.PowNumbers,o=new U(0,$.className,$.defaultValue,"Base"),r=new U(1,$.className,$.defaultValue,"Exponent"),i=[o,r],l=[new K(0,$.className,(function(){return Math.pow(o.getValue(e),r.getValue(e))}),"Result")];return t.call(this,a,"Power Numbers","powNums",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Te=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.SqrtNumber,o=new U(0,$.className,$.defaultValue),r=[o],i=[new K(0,$.className,(function(){return Math.sqrt(o.getValue(e))}),"Sqrt")];return t.call(this,a,"Square Root Number","sqrtNum",205,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Me=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.CeilNumber,o=new U(0,$.className,$.defaultValue),r=[o],i=[new K(0,$.className,(function(){return Math.ceil(o.getValue(e))}),"Ceil")];return t.call(this,a,"Ceiling Number","ceilNum",205,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Fe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.FloorNumber,o=new U(0,$.className,$.defaultValue),r=[o],i=[new K(0,$.className,(function(){return Math.floor(o.getValue(e))}),"Floor")];return t.call(this,a,"Floor Number","floorNum",205,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(De=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.LessThanNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)<r.getValue(e)}),"Result")];return t.call(this,a,"Less Than Numbers","lessThanNums",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Be=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.LessThanEqualNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)<=r.getValue(e)}),"Result")];return t.call(this,a,"Less Than Equal Numbers","lessThanEqualNums",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Re=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.GreaterThanNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)>r.getValue(e)}),"Result")];return t.call(this,a,"Greater Than Numbers","greaterThanNums",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Le=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.GreaterThanEqualNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)>=r.getValue(e)}),"Result")];return t.call(this,a,"Greater Than Equal Numbers","greaterThanEqualNums",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ae=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.EqualNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)===r.getValue(e)}),"Result")];return t.call(this,a,"Equal Numbers","equalNums",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Pe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.NotEqualNumbers,o=new U(0,$.className,$.defaultValue),r=new U(1,$.className,$.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)!==r.getValue(e)}),"Result")];return t.call(this,a,"Not Equal Numbers","notEqualNums",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ge=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.AndBoolean,o=new U(0,ee.className,ee.defaultValue),r=new U(1,ee.className,ee.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)&&r.getValue(e)}),"And")];return t.call(this,a,"And Boolean","andBool",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(We=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.OrBoolean,o=new U(0,ee.className,ee.defaultValue),r=new U(1,ee.className,ee.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)||r.getValue(e)}),"Or")];return t.call(this,a,"Or Boolean","orBool",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(He=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.EqualBoolean,o=new U(0,ee.className,ee.defaultValue),r=new U(1,ee.className,ee.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)===r.getValue(e)}),"Result")];return t.call(this,a,"Equal Boolean","equalBool",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(qe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.NotEqualBoolean,o=new U(0,ee.className,ee.defaultValue),r=new U(1,ee.className,ee.defaultValue),i=[o,r],l=[new K(0,ee.className,(function(){return o.getValue(e)!==r.getValue(e)}),"Result")];return t.call(this,a,"Not Equal Boolean","notEqualBool",205,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(ze=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.NotBoolean,o=new U(0,ee.className,ee.defaultValue),r=[o],i=[new K(0,ee.className,(function(){return!o.getValue(e)}),"Not")];return t.call(this,a,"Not Boolean","notBool",205,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ue=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.AppendString,o=new U(0,_.className,_.defaultValue),r=new U(1,_.className,_.defaultValue),i=[o,r],l=[new K(0,_.className,(function(){return o.getValue(e).concat(r.getValue(e))}),"Result")];return t.call(this,a,"Append String","appendStr",200,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ke=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.ContainsString,o=new U(0,_.className,_.defaultValue,"Searched"),r=new U(1,_.className,_.defaultValue,"Search For"),i=new U(2,ee.className,ee.defaultValue,"Case Sensitive?"),l=[o,r,i],c=[new K(0,ee.className,(function(){return!0===i.getValue(e)?o.getValue(e).includes(r.getValue(e)):o.getValue(e).toLowerCase().includes(r.getValue(e).toLowerCase())}),"Has Found"),new K(0,$.className,(function(){return!0===i.getValue(e)?o.getValue(e).indexOf(r.getValue(e)):o.getValue(e).toLowerCase().indexOf(r.getValue(e).toLowerCase())}),"Index")];return t.call(this,a,"Contains String","containsStr",240,[],[],l,c)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Xe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.StartsWithString,o=new U(0,_.className,_.defaultValue,"Searched"),r=new U(1,_.className,_.defaultValue,"Starts With"),i=new U(2,ee.className,ee.defaultValue,"Case Sensitive?"),l=[o,r,i],c=[new K(0,ee.className,(function(){return!0===i.getValue(e)?o.getValue(e).startsWith(r.getValue(e)):o.getValue(e).toLowerCase().startsWith(r.getValue(e).toLowerCase())}),"Result")];return t.call(this,a,"Starts With String","startsWithStr",215,[],[],l,c)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ye=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.EndsWithString,o=new U(0,_.className,_.defaultValue,"Searched"),r=new U(1,_.className,_.defaultValue,"Ends With"),i=new U(2,ee.className,ee.defaultValue,"Case Sensitive?"),l=[o,r,i],c=[new K(0,ee.className,(function(){return!0===i.getValue(e)?o.getValue(e).endsWith(r.getValue(e)):o.getValue(e).toLowerCase().endsWith(r.getValue(e).toLowerCase())}),"Result")];return t.call(this,a,"Ends With String","endsWithStr",215,[],[],l,c)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Je=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.EqualString,o=new U(0,_.className,_.defaultValue),r=new U(1,_.className,_.defaultValue,"Equal To"),i=new U(2,ee.className,ee.defaultValue,"Case Sensitive?"),l=[o,r,i],c=[new K(0,ee.className,(function(){return!0===i.getValue(e)?o.getValue(e)===r.getValue(e):o.getValue(e).toLowerCase()===r.getValue(e).toLowerCase()}),"Result")];return t.call(this,a,"Equal String","equalStr",200,[],[],l,c)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Ze=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.NotEqualString,o=new U(0,_.className,_.defaultValue),r=new U(1,_.className,_.defaultValue,"Not Equal To"),i=new U(2,ee.className,ee.defaultValue,"Case Sensitive?"),l=[o,r,i],c=[new K(0,ee.className,(function(){return!0===i.getValue(e)?o.getValue(e)!==r.getValue(e):o.getValue(e).toLowerCase()!==r.getValue(e).toLowerCase()}),"Result")];return t.call(this,a,"Not Equal String","notEqualStr",200,[],[],l,c)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(Qe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.LengthString,o=new U(0,_.className,_.defaultValue),r=[o],i=[new K(0,$.className,(function(){return o.getValue(e).length}),"Length")];return t.call(this,a,"Length of String","lengthStr",200,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt($e=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.MatchesRegexString,o=new U(0,_.className,_.defaultValue),r=new U(1,_.className,_.defaultValue,"Regex"),i=[o,r],l=[new K(0,ee.className,(function(){return null!=o.getValue(e).match(r.getValue(e))}),"Result")];return t.call(this,a,"Matches Regex String","matchesRegexStr",200,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(_e=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.ReplaceSubstring,o=new U(0,_.className,_.defaultValue),r=new U(1,_.className,_.defaultValue,"Search For"),i=new U(2,_.className,_.defaultValue,"Replace To"),l=[o,r,i],c=[new K(0,_.className,(function(){return o.getValue(e).replaceAll(r.getValue(e),i.getValue(e))}),"Result")];return t.call(this,a,"Replace Substring","replaceSubstr",200,[],[],l,c)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(et=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.ReplaceAtIndexString,o=new U(0,_.className,_.defaultValue),r=new U(1,$.className,$.defaultValue,"Index From"),i=new U(2,$.className,$.defaultValue,"Index To"),l=new U(3,_.className,_.defaultValue,"Replace To"),c=[o,r,i,l],u=[new K(0,_.className,(function(){var t=o.getValue(e);return t.substr(0,r.getValue(e))+l.getValue(e)+t.substr(i.getValue(e))}),"Result")];return t.call(this,a,"Replace At Index String","replaceAtIndexStr",200,[],[],c,u)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(tt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.ReverseString,o=new U(0,_.className,_.defaultValue),r=[o],i=[new K(0,_.className,(function(){return o.getValue(e).split("").reverse().join("")}),"Reversed")];return t.call(this,a,"Reverse String","reverseStr",215,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(nt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.ToLowerCaseString,o=new U(0,_.className,_.defaultValue),r=[o],i=[new K(0,_.className,(function(){return o.getValue(e).toLowerCase()}),"Lowercase")];return t.call(this,a,"To Lower Case String","toLowerCaseStr",220,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),lt(at=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){Object(s.a)(this,n);var a=ot.ToUpperCaseString,o=new U(0,_.className,_.defaultValue),r=[o],i=[new K(0,_.className,(function(){return o.getValue(e).toUpperCase()}),"Uppercase")];return t.call(this,a,"To Upper Case String","toUpperCaseStr",220,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(e){return new n(e)}}]),n}(ct)),new(function(){function e(){Object(s.a)(this,e),this.typeCount=void 0,this.typeCount=new Map}return Object(d.a)(e,[{key:"getNextVariableName",value:function(e){var t=oe.getBaseSchema(e);if(t){var n=this.typeCount.get(e);return null==n?(this.typeCount.set(e,1),n=1):this.typeCount.set(e,n+1),"".concat(t.uniqueNamePrefix).concat(n)}console.error("The schema of id '".concat(e,"' could not be found."))}}]),e}())),st=function(){function e(t,n,a,o,r,i,l,c,u,d,f,h){var m;if(Object(s.a)(this,e),this.id=void 0,this.customName=void 0,this.x=void 0,this.y=void 0,this.schemaId=void 0,this.inputValues=void 0,this.inputSlots=void 0,this.inputFlowSlots=void 0,this.outputSlots=void 0,this.outputFlowSlots=void 0,this.variableId=void 0,this.variableType=void 0,this.variableName=void 0,this.schema=void 0,this.id=t,this.x=n,this.y=a,this.schemaId=o,this.inputValues=r,this.inputSlots=i,this.inputFlowSlots=l,this.outputSlots=c,this.outputFlowSlots=u,null!=f){var p,v,b=W.currentScriplet;v="Variable"===h?null===b||void 0===b?void 0:b.getVariable(f):"Input"===h?null===b||void 0===b?void 0:b.getInput(f):null===b||void 0===b?void 0:b.getOutput(f),this.customName=null===(p=v)||void 0===p?void 0:p.name,this.variableId=f,this.variableType=h}else this.customName=d;this.variableName=null!==(m=ut.getNextVariableName(o))&&void 0!==m?m:"undefined",this.schema=oe.getNewSchema(t,o),Object.defineProperties(this,{variableName:{enumerable:!1,writable:!0},schema:{enumerable:!1,writable:!0}})}return Object(d.a)(e,[{key:"getInputConnection",value:function(e){var t=this.inputSlots.filter((function(t){return t.id===e}));if(t.length>1&&console.error("Input slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will return the first connection found.")),!(t.length<1))return t[0]}},{key:"setInputConnection",value:function(e,t,n){var a=this.inputSlots.filter((function(t){return t.id===e}));if(a.length>1&&console.error("Input slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will replace the first connection found.")),a.length<1)this.inputSlots.push({id:e,itemId:t,slotId:n});else{var o=a[0];o.itemId=t,o.slotId=n}}},{key:"deleteInputConnection",value:function(e){this.inputSlots=this.inputSlots.filter((function(t){return t.id!==e}))}},{key:"getInputValue",value:function(e){var t=this.inputValues.filter((function(t){return t.id===e}));if(t.length>1&&console.error("Input value '".concat(e,"' of node item '").concat(this.id,"' can only have 1 value. Will return the first value found.")),!(t.length<1))return t[0].value}},{key:"setInputValue",value:function(e,t){var n=this.inputValues.filter((function(t){return t.id===e}));(n.length>1&&console.error("Input value '".concat(e,"' of node item '").concat(this.id,"' can only have 1 value. Will return the first value found.")),n.length<1)?this.inputValues.push({id:e,value:t}):n[0].value=t}},{key:"getOutputConnections",value:function(e){var t=this.outputSlots.get(e);return t||[]}},{key:"setOutputConnection",value:function(e,t,n){var a=this.outputSlots.get(e);a?a.find((function(a){return a.id===e&&a.itemId===t&&a.slotId===n}))?console.error("The connection '".concat(t,", ").concat(n,"' is already connected to node item slot '").concat(this.id,", ").concat(e,"'. Something in the code may have caused this duplication.")):a.push({id:e,itemId:t,slotId:n}):this.outputSlots.set(e,[{id:e,itemId:t,slotId:n}])}},{key:"deleteOutputConnection",value:function(e,t,n){var a=this.outputSlots.get(e);a&&(a=a.filter((function(a){return a.id!==e&&a.itemId!==t&&a.slotId!==n})),this.outputSlots.set(e,a))}},{key:"getInputFlowConnection",value:function(e){var t=this.inputFlowSlots.filter((function(t){return t.id===e}));if(t.length>1&&console.error("Input flow slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will return the first connection found.")),!(t.length<1))return t[0]}},{key:"setInputFlowConnection",value:function(e,t,n){var a=this.inputFlowSlots.filter((function(t){return t.id===e}));if(a.length>1&&console.error("Input flow slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will replace the first connection found.")),a.length<1)this.inputFlowSlots.push({id:e,itemId:t,slotId:n});else{var o=a[0];o.itemId=t,o.slotId=n}}},{key:"deleteInputFlowConnection",value:function(e){this.inputFlowSlots=this.inputFlowSlots.filter((function(t){return t.id!==e}))}},{key:"getOutputFlowConnection",value:function(e){var t=this.outputFlowSlots.filter((function(t){return t.id===e}));if(t.length>1&&console.error("Output flow slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will return the first connection found.")),!(t.length<1))return t[0]}},{key:"setOutputFlowConnection",value:function(e,t,n){var a=this.outputFlowSlots.filter((function(t){return t.id===e}));if(a.length>1&&console.error("Output flow slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will replace the first connection found.")),a.length<1)this.outputFlowSlots.push({id:e,itemId:t,slotId:n});else{var o=a[0];o.itemId=t,o.slotId=n}}},{key:"deleteOutputFlowConnection",value:function(e){this.outputFlowSlots=this.outputFlowSlots.filter((function(t){return t.id!==e}))}}]),e}(),dt=function(){function e(t,n,a,o,r,i,l,c,u,d,f,h){Object(s.a)(this,e),this.id=void 0,this.name=void 0,this.description=void 0,this.start=void 0,this.items=void 0,this.itemCounter=void 0,this.variables=void 0,this.variableCounter=void 0,this.inputs=void 0,this.inputCounter=void 0,this.outputs=void 0,this.outputCounter=void 0,this.id=null!==n&&void 0!==n?n:0,this.itemCounter=null!==i&&void 0!==i?i:1,this.variableCounter=null!==c&&void 0!==c?c:1,this.inputCounter=null!==d&&void 0!==d?d:1,this.outputCounter=null!==h&&void 0!==h?h:1,this.name=t,this.description=null!==a&&void 0!==a?a:"",this.start=null!==o&&void 0!==o?o:{id:0,x:0,y:0,schemaId:ot.Start,inputValues:[],inputSlots:[],inputFlowSlots:[],outputSlots:new Map,outputFlowSlots:[]},null==r?(this.items=new Map,this.items.set(0,this.start)):this.items=r,this.variables=null!==l&&void 0!==l?l:new Map,this.inputs=null!==u&&void 0!==u?u:new Map,this.outputs=null!==f&&void 0!==f?f:new Map}return Object(d.a)(e,[{key:"addNode",value:function(e,t,n,a,o,r,i,l,c,u,s){this.addNodes(!1,{x:e,y:t,schemaId:n,inputValues:a,inputSlots:o,inputFlowSlots:r,outputSlots:i,outputFlowSlots:l,customName:c,variableId:u,variableType:s})}},{key:"addNodes",value:function(e){for(var t=this,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];a.forEach((function(e){var n=t.itemCounter++;t.items.set(n,{id:n,x:e.x,y:e.y,schemaId:e.schemaId,inputValues:e.inputValues,inputSlots:e.inputSlots,inputFlowSlots:e.inputFlowSlots,outputSlots:e.outputSlots,outputFlowSlots:e.outputFlowSlots,customName:e.customName,variableId:e.variableId,variableType:e.variableType})})),ft.updateScriplet(this.id,{items:this.items,itemCounter:this.itemCounter}).then((function(t){t&&e&&window.location.reload()}))}},{key:"getStart",value:function(){if(!this.start.schema){var e=new st(this.start.id,this.start.x,this.start.y,this.start.schemaId,this.start.inputValues,this.start.inputSlots,this.start.inputFlowSlots,this.start.outputSlots,this.start.outputFlowSlots,this.start.customName,this.start.variableId,this.start.variableType);return this.start=e,e}return this.start}},{key:"getNode",value:function(e){var t=this.items.get(e);if(t)return this.convertToNodeItem(t)}},{key:"getNodes",value:function(){var e=this,t=[];return this.items.forEach((function(n){t.push(e.convertToNodeItem(n))})),t}},{key:"convertToNodeItem",value:function(e){if(!e.schema){var t=new st(e.id,e.x,e.y,e.schemaId,e.inputValues,e.inputSlots,e.inputFlowSlots,e.outputSlots,e.outputFlowSlots,e.customName,e.variableId,e.variableType);return this.items.set(e.id,t),t}return e}},{key:"updateNodes",value:function(){ft.updateScriplet(this.id,{items:this.items})}},{key:"deleteNode",value:function(e){return this.deleteNodes(e)}},{key:"deleteNodes",value:function(){for(var e=this,t=!0,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return a.forEach((function(n){e.items.delete(n)||(t=!1)})),ft.updateScriplet(this.id,{items:this.items}),t}},{key:"addVariable",value:function(e,t,n,a){this.addVariables({name:e,type:t,startValue:n,value:a})}},{key:"addVariables",value:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach((function(t){var n=e.variableCounter++;e.variables.set(n,{id:n,name:t.name,type:t.type,startValue:t.startValue,value:t.value})})),ft.updateScriplet(this.id,{variables:this.variables,variableCounter:this.variableCounter})}},{key:"getVariable",value:function(e){return this.variables.get(e)}},{key:"getVariables",value:function(){return Object(ae.a)(this.variables.values())}},{key:"updateVariables",value:function(){ft.updateScriplet(this.id,{variables:this.variables})}},{key:"setVariable",value:function(e){this.variables.set(e.id,e)}},{key:"resetVariables",value:function(){this.variables.forEach((function(e){e.value=void 0}))}},{key:"deleteVariable",value:function(e){return!!this.variables.delete(e)&&(this.updateVariables(),!0)}},{key:"addInput",value:function(e,t,n,a){this.addInputs({name:e,type:t,startValue:n,value:a})}},{key:"addInputs",value:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach((function(t){var n=e.inputCounter++;e.inputs.set(n,{id:n,name:t.name,type:t.type,startValue:t.startValue,value:t.value})})),ft.updateScriplet(this.id,{inputs:this.inputs,inputCounter:this.inputCounter})}},{key:"getInput",value:function(e){return this.inputs.get(e)}},{key:"getInputs",value:function(){return Object(ae.a)(this.inputs.values())}},{key:"updateInputs",value:function(){ft.updateScriplet(this.id,{inputs:this.inputs})}},{key:"setInput",value:function(e){this.inputs.set(e.id,e),this.updateInputs()}},{key:"deleteInput",value:function(e){return!!this.inputs.delete(e)&&(this.updateInputs(),!0)}},{key:"addOutput",value:function(e,t,n,a){this.addOutputs({name:e,type:t,startValue:n,value:a})}},{key:"addOutputs",value:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach((function(t){var n=e.outputCounter++;e.outputs.set(n,{id:n,name:t.name,type:t.type,startValue:t.startValue,value:t.value})})),ft.updateScriplet(this.id,{outputs:this.outputs,outputCounter:this.outputCounter})}},{key:"getOutput",value:function(e){return this.outputs.get(e)}},{key:"getOutputs",value:function(){return Object(ae.a)(this.outputs.values())}},{key:"updateOutputs",value:function(){ft.updateScriplet(this.id,{outputs:this.outputs})}},{key:"setOutput",value:function(e){this.outputs.set(e.id,e),this.updateOutputs()}},{key:"deleteOutput",value:function(e){return!!this.outputs.delete(e)&&(this.updateOutputs(),!0)}}]),e}(),ft=new(function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this,"VisualScriptingDB")).scriplets=void 0,e.version(1).stores({scriplets:"++id, name"}),e.open().catch((function(t){console.error("Opening the db '".concat(e.name,"' failed: ").concat(t))})),e.scriplets=e.table("scriplets"),e.scriplets.mapToClass(dt),e.seedData(),e}return Object(d.a)(n,[{key:"seedData",value:function(){var e=this;this.scriplets.toArray().then((function(t){if(t.length<=0){var n={id:0,x:0,y:0,schemaId:ot.Start,inputValues:[],inputSlots:[],inputFlowSlots:[],outputSlots:new Map,outputFlowSlots:[{id:0,itemId:4,slotId:0}],customName:void 0,variableId:void 0};e.addScriplet("Check If Prime","Checks if the provided number is a prime.",n).then((function(e){e?(e.addVariables({name:"Is Prime",type:"Boolean",startValue:!0,value:void 0}),e.addInputs({name:"Number to Check",type:"Number",startValue:97,value:void 0}),e.addNodes(!0,{x:-530,y:240,schemaId:ot.InputNumber,inputValues:[],inputSlots:[],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:2,slotId:0},{id:0,itemId:3,slotId:0}]]]),outputFlowSlots:[],customName:"Number To Check",variableId:1,variableType:"Input"},{x:-290,y:118,schemaId:ot.DivideNumbers,inputValues:[{id:1,value:2}],inputSlots:[{id:0,itemId:1,slotId:0}],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:3,slotId:0}]]]),outputFlowSlots:[],customName:"Half Number"},{x:-32,y:118,schemaId:ot.AddNumbers,inputValues:[{id:1,value:1}],inputSlots:[{id:0,itemId:2,slotId:0}],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:4,slotId:3}]]]),outputFlowSlots:[],customName:"Plus One"},{x:225,y:0,schemaId:ot.ForLoopBreak,inputValues:[{id:2,value:2}],inputSlots:[{id:3,itemId:3,slotId:0}],inputFlowSlots:[{id:0,itemId:0,slotId:0},{id:1,itemId:8,slotId:0}],outputSlots:new Map([[2,[{id:2,itemId:5,slotId:1}]]]),outputFlowSlots:[{id:0,itemId:7,slotId:0},{id:1,itemId:9,slotId:0}]},{x:473,y:240,schemaId:ot.ModuloNumbers,inputValues:[],inputSlots:[{id:0,itemId:1,slotId:0},{id:1,itemId:4,slotId:2}],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:6,slotId:0}]]]),outputFlowSlots:[]},{x:743,y:132,schemaId:ot.EqualNumbers,inputValues:[],inputSlots:[{id:0,itemId:5,slotId:0}],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:7,slotId:1}]]]),outputFlowSlots:[],customName:"Equals Zero"},{x:986,y:-18,schemaId:ot.IfElse,inputValues:[],inputSlots:[{id:1,itemId:6,slotId:0}],inputFlowSlots:[{id:0,itemId:4,slotId:0}],outputSlots:new Map,outputFlowSlots:[{id:0,itemId:8,slotId:0}],customName:"Check If Prime"},{x:1250,y:100,schemaId:ot.SetBoolean,inputValues:[{id:1,value:!1}],inputSlots:[],inputFlowSlots:[{id:0,itemId:7,slotId:0}],outputSlots:new Map,outputFlowSlots:[{id:0,itemId:4,slotId:1}],customName:"Set Is Prime",variableId:1,variableType:"Variable"},{x:864,y:278,schemaId:ot.IfElse,inputValues:[],inputSlots:[{id:1,itemId:12,slotId:0}],inputFlowSlots:[{id:0,itemId:4,slotId:1}],outputSlots:new Map,outputFlowSlots:[{id:0,itemId:10,slotId:0},{id:1,itemId:11,slotId:0}],customName:"If IsPrime is True"},{x:1164,y:278,schemaId:ot.PrintBoolean,inputValues:[],inputSlots:[],inputFlowSlots:[{id:0,itemId:9,slotId:0}],outputSlots:new Map,outputFlowSlots:[],customName:"Is Definitely Prime"},{x:1164,y:420,schemaId:ot.PrintBoolean,inputValues:[{id:1,value:!1}],inputSlots:[],inputFlowSlots:[{id:0,itemId:9,slotId:1}],outputSlots:new Map,outputFlowSlots:[],customName:"Is Definitely Not Prime"},{x:564,y:400,schemaId:ot.GetBoolean,inputValues:[],inputSlots:[],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:9,slotId:1}]]]),outputFlowSlots:[],customName:"Get Is Prime",variableId:1,variableType:"Variable"})):console.error("Something went wrong when creating a scriplet. Check if scriplet name is not empty.")})),e.addScriplet("Empty Scriplet").then((function(e){e?(e.addVariables({name:"Test Variable",type:"Number",startValue:16,value:void 0}),e.addNodes(!0,{x:0,y:100,schemaId:ot.GetNumber,inputValues:[],inputSlots:[],inputFlowSlots:[],outputSlots:new Map,outputFlowSlots:[],customName:"Test Name",variableId:1},{x:0,y:200,schemaId:ot.SetNumber,inputValues:[],inputSlots:[],inputFlowSlots:[],outputSlots:new Map,outputFlowSlots:[],customName:"Test Name 2",variableId:1})):console.error("Something went wrong when creating a scriplet. Check if scriplet name is not empty.")}))}}))}},{key:"getScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.get(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",new dt(n.name,n.id,n.description,n.start,n.items,n.itemCounter,n.variables,n.variableCounter,n.inputs,n.inputCounter,n.outputs,n.outputCounter));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getScriplets",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.toArray();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(new dt(e.name,e.id,e.description,e.start,e.items,e.itemCounter,e.variables,e.variableCounter,e.inputs,e.inputCounter,e.outputs,e.outputCounter))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t,n,a,o,r,i,l,c,u,s,d){var f,h;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.error("When creating a scriplet, it cannot have an empty name."),e.abrupt("return");case 3:return f={name:t,description:n,start:a,items:o,itemCounter:r,variables:i,variableCounter:l,inputs:c,inputCounter:u,outputs:s,outputCounter:d},e.next=6,this.scriplets.add(f);case 6:return h=e.sent,e.abrupt("return",new dt(t,h,n,a,o,r,i,l,c,u,s,d));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,a,o,r,i,l,c,u,s,d){return e.apply(this,arguments)}}()},{key:"updateScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.update(t,n);case 2:if(0!==e.sent){e.next=6;break}return console.error("The scriplet of id '".concat(t,"' could not be found in the database; nothing was updated.")),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateEntireScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.where(":id").equals(t.id).modify((function(e,n){return n.value=t}));case 2:if(0!==e.sent){e.next=6;break}return console.error("The scriplet of id '".concat(t.id,"' could not be found in the database; nothing was updated.")),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.delete(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetDatabase",value:function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(S.a)),ht=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={isModalOpen:!1},a.handleOpenModal=a.handleOpenModal.bind(Object(f.a)(a)),a.handleCloseModal=a.handleCloseModal.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.openModal(this.handleOpenModal)}},{key:"handleOpenModal",value:function(){this.setState({isModalOpen:!0})}},{key:"handleCloseModal",value:function(){this.setState({isModalOpen:!1})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,a=this.state.isModalOpen,r=this.handleCloseModal;return o.a.createElement("div",{className:"".concat(a?"flex":"hidden"," absolute-full items-center justify-center"),style:{zIndex:100}},o.a.createElement("div",{className:"absolute-full opacity-50 bg-gray-900 cursor-pointer",onClick:this.handleCloseModal}),o.a.createElement("div",{className:"p-4 sm:p-8 w-2/3 lg:w-1/2 bg-gray-100 z-40 rounded shadow-lg"},o.a.createElement("div",{className:"mb-4 flex items-center justify-between text-gray-800"},o.a.createElement("span",{className:"text-lg font-medium"},t),o.a.createElement(p.a,{className:"text-lg sm:text-xl cursor-pointer",icon:"times",onClick:this.handleCloseModal})),o.a.createElement("div",null,null!=n?n(r):null)))}}]),n}(o.a.Component),mt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).moreOptions=void 0,a.moreOptions=o.a.createRef(),a.state={isMoreOptions:!1},a.openOptions=a.openOptions.bind(Object(f.a)(a)),a.closeOptions=a.closeOptions.bind(Object(f.a)(a)),a.toggleOptions=a.toggleOptions.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e;this.state.isMoreOptions&&(null===(e=this.moreOptions.current)||void 0===e||e.focus())}},{key:"openOptions",value:function(){this.setState({isMoreOptions:!0})}},{key:"closeOptions",value:function(){this.setState({isMoreOptions:!1})}},{key:"toggleOptions",value:function(){this.state.isMoreOptions?this.closeOptions():this.openOptions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onEdit,a=t.onDelete,r=this.state.isMoreOptions;return o.a.createElement("div",{className:"relative"},o.a.createElement("button",{className:"px-2 py-1 flex items-center rounded bg-blue-600 hover:bg-blue-500",onClick:function(t){t.preventDefault(),e.toggleOptions()}},o.a.createElement(p.a,{className:"text-sm text-gray-100",icon:"ellipsis-v"})),o.a.createElement("div",{ref:this.moreOptions,className:"".concat(r?"":"hidden"," absolute outline-none"),style:{left:"-54px",zIndex:10},tabIndex:0,onBlur:function(){e.closeOptions()}},o.a.createElement("div",{className:"",style:{marginLeft:"56px",width:"0",height:"12px",borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid ".concat(re.Gray[900])}}),o.a.createElement("div",{className:"w-20 rounded shadow bg-gray-900",style:{height:"58px"}},o.a.createElement("div",{className:"px-2 py-1 flex flex-row items-center rounded text-gray-100 hover:bg-gray-600 cursor-pointer",onClick:function(t){t.stopPropagation(),e.closeOptions(),n()}},o.a.createElement(p.a,{className:"text-xs text-gray-100",icon:"pencil-alt"}),o.a.createElement("div",{className:"w-full flex justify-center text-sm"},o.a.createElement("div",{className:""},"Edit"))),o.a.createElement("div",{className:"px-2 py-1 flex flex-row items-center rounded text-gray-100 hover:bg-red-500 cursor-pointer",onClick:function(t){t.stopPropagation(),e.closeOptions(),a()}},o.a.createElement(p.a,{className:"text-xs text-gray-100",icon:"trash"}),o.a.createElement("div",{className:"w-full flex justify-center text-sm"},o.a.createElement("div",{className:""},"Delete"))))))}}]),n}(o.a.Component),pt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={isHovered:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.scriplet,a=t.closeNavMenu,r=t.onEdit,i=t.onDelete,l=this.state.isHovered;return o.a.createElement("div",{className:"flex flex-row mb-1 px-4 py-2 rounded-md hover:bg-gray-900",onMouseOver:function(){e.setState({isHovered:!0})},onMouseOut:function(){e.setState({isHovered:!1})}},o.a.createElement(v.b,{onClick:a,to:"/scriplet/"+n.id,className:"w-full flex items-center text-gray-100"},o.a.createElement(p.a,{className:"mr-4 text-lg text-gray-600",icon:"folder"}),n.name),o.a.createElement("div",{className:"".concat(l?"":"hidden")},o.a.createElement(mt,{onEdit:function(){return r(n.id)},onDelete:function(){return i(n.id)}})))}}]),n}(o.a.Component),vt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={selectedId:-1,name:"",description:""},a}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props.scriplet,t=this.state.selectedId;e&&t!==e.id&&this.setState({selectedId:e.id,name:e.name,description:e.description})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.description,r=this.props,i=r.onSaveScriplet,l=r.onCancel;return o.a.createElement("div",{className:"flex flex-col"},o.a.createElement("div",{className:"flex flex-col mb-4"},o.a.createElement("label",{className:"mb-1 text-sm text-gray-700"},"Name"),o.a.createElement("input",{className:"px-2 border-2 rounded",type:"text",name:"name",value:n,onChange:function(t){e.setState({name:t.target.value})}})),o.a.createElement("div",{className:"flex flex-col mb-4"},o.a.createElement("label",{className:"mb-1 text-sm text-gray-700"},"Description"),o.a.createElement("textarea",{className:"px-2 border-2 rounded",name:"description",rows:3,value:a,onChange:function(t){e.setState({description:t.target.value})}})),o.a.createElement("div",{className:"flex flex-row-reverse"},o.a.createElement("button",{className:"ml-4 px-2 py-1 rounded bg-blue-600 text-gray-100 hover:bg-blue-500",onClick:function(){n&&a?(i(n,a),l()):console.error("The form for creating a scriplet cannot have empty fields.")}},"Save"),o.a.createElement("button",{className:"px-2 py-1 rounded bg-gray-500 text-gray-100 hover:bg-gray-400",onClick:l},"Cancel")))}}]),n}(o.a.Component),bt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={isVerifyingReset:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state.isVerifyingReset;return o.a.createElement("div",{className:"flex flex-col"},o.a.createElement("div",{className:"mb-2 text-lg text-gray-800"},"Others"),o.a.createElement("div",{className:"mb-4 text-sm text-red-500"},"Warning: This will reset the database where your scriplets are stored to when it was first initialized, and will thus delete every progress you have made so far. Only click on this if absolutely necessary!"),o.a.createElement("div",{className:"mb-4"},o.a.createElement("div",{className:"px-4 py-2 inline rounded bg-red-500 hover:bg-red-400 text-gray-100 cursor-pointer select-none",onClick:function(){return e.setState({isVerifyingReset:!0})}},o.a.createElement(p.a,{className:"mr-3",icon:"redo-alt"}),"Reset Database")),o.a.createElement("div",{className:"".concat(t?"":"hidden")},o.a.createElement("div",{className:"mb-2 font-bold text-gray-900"},"Are you sure?"),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{className:"px-4 py-2 mr-4 rounded bg-red-500 hover:bg-red-400 text-gray-100 cursor-pointer select-none",onClick:function(){ft.resetDatabase().then((function(){e.setState({isVerifyingReset:!1},(function(){window.location.replace("/vso")}))}))}},o.a.createElement(p.a,{className:"mr-3",icon:"check"}),"Yes, reset!"),o.a.createElement("div",{className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-500 text-gray-100 cursor-pointer select-none",onClick:function(){return e.setState({isVerifyingReset:!1})}},o.a.createElement(p.a,{className:"mr-3",icon:"times"}),"No, don't!"))),o.a.createElement("div",{className:"mt-2 mb-2 text-lg text-gray-800"},"About"),o.a.createElement("div",{className:"mb-2 font-medium text-xl text-gray-900"},"Visual Scripting Online (ver. ","1.0.0",")"),o.a.createElement("div",{className:"text-gray-900"},"Made by ",o.a.createElement("span",{className:"font-medium"},"Mark Malabanan (Devwulf)")),o.a.createElement("div",{className:"text-gray-900"},"Made with ",o.a.createElement("span",{className:"font-medium"},"React JS")))}}]),n}(o.a.Component),gt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).scripletNameInput=void 0,a.scripletNameInput=o.a.createRef(),a.state={scriplets:[],editedScriplet:void 0,isDirtyDB:!1,isNavMenuOpen:!1,isSidebarOpen:!0,openAddScripletModal:function(){},openEditScripletModal:function(){},openSettingsModal:function(){}},a.openNavMenu=a.openNavMenu.bind(Object(f.a)(a)),a.closeNavMenu=a.closeNavMenu.bind(Object(f.a)(a)),a.toggleNavMenu=a.toggleNavMenu.bind(Object(f.a)(a)),a.openSidebar=a.openSidebar.bind(Object(f.a)(a)),a.closeSidebar=a.closeSidebar.bind(Object(f.a)(a)),a.toggleSidebar=a.toggleSidebar.bind(Object(f.a)(a)),a.onScripletCreate=a.onScripletCreate.bind(Object(f.a)(a)),a.onScripletDelete=a.onScripletDelete.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;ft.getScriplets().then((function(t){e.setState({scriplets:t})}))}},{key:"componentDidUpdate",value:function(){var e=this;this.state.isDirtyDB&&ft.getScriplets().then((function(t){e.setState({scriplets:t,isDirtyDB:!1})}));var t=this.scripletNameInput.current;t&&(t.classList.contains("hidden")||t.focus())}},{key:"openNavMenu",value:function(){this.setState({isNavMenuOpen:!0})}},{key:"closeNavMenu",value:function(){this.setState({isNavMenuOpen:!1})}},{key:"toggleNavMenu",value:function(){this.state.isNavMenuOpen?this.closeNavMenu():this.openNavMenu()}},{key:"openSidebar",value:function(){this.setState({isSidebarOpen:!0})}},{key:"closeSidebar",value:function(){this.setState({isSidebarOpen:!1})}},{key:"toggleSidebar",value:function(){this.state.isSidebarOpen?this.closeSidebar():this.openSidebar()}},{key:"onScripletCreate",value:function(e,t){var n=this;ft.addScriplet(e,t).then((function(e){e&&n.setState({isDirtyDB:!0})}))}},{key:"onScripletEdit",value:function(e,t,n){var a=this;ft.updateScriplet(e,{name:t,description:n}).then((function(e){e&&a.setState({isDirtyDB:!0})}))}},{key:"onScripletDelete",value:function(e){ft.deleteScriplet(e).then((function(){window.location.replace("/vso")}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.scriplets,a=t.editedScriplet,r=t.isNavMenuOpen,i=t.isSidebarOpen,l=t.openAddScripletModal,c=t.openEditScripletModal,u=t.openSettingsModal;return o.a.createElement("nav",{className:"nav"},o.a.createElement("div",{className:"topbar"},o.a.createElement("div",{className:"lg:hidden flex items-center justify-between p-4 bg-gray-800"},o.a.createElement("div",{className:""},o.a.createElement(v.b,{to:"/",className:"text-xl text-gray-100 font-semibold"},o.a.createElement(p.a,{className:"mr-4 text-2xl text-indigo-500",icon:"project-diagram"}),"Visual Scripting")),o.a.createElement("div",{className:"flex flex-row"},o.a.createElement("div",{className:""},o.a.createElement("button",{className:"px-3 py-2 mr-3 flex items-center text-indigo-500 rounded border border-indigo-500 hover:bg-indigo-300 cursor-pointer select-none",onClick:function(){return u()}},o.a.createElement(p.a,{icon:"cog"}))),o.a.createElement("div",{className:"block"},o.a.createElement("button",{className:"flex items-center py-2 px-3 text-indigo-500 rounded border border-indigo-500 hover:bg-indigo-300",onClick:this.toggleNavMenu},o.a.createElement(p.a,{icon:"bars"}))))),o.a.createElement("div",{className:"".concat(r?"":"hidden"," lg:hidden relative z-20")},o.a.createElement("div",{className:"absolute w-full px-4 pb-4 bg-gray-800"},n.map((function(t,n){return o.a.createElement(v.b,{key:n,onClick:e.closeNavMenu,to:"/scriplet/"+t.id,className:"block mb-1 px-4 py-2 rounded-md hover:bg-gray-900 focus:bg-gray-900 text-gray-100"},o.a.createElement(p.a,{className:"mr-4 text-lg text-gray-600",icon:"folder"}),t.name)})),o.a.createElement("div",{className:"".concat(n.length>0?"hidden":"flex"," justify-center mb-2 select-none")},o.a.createElement("div",{className:"p-3 text-gray-400 italic"},"No scriplets found")),o.a.createElement("div",{className:"w-full mb-1 rounded-md border-gray-600 border-dashed border-2 cursor-pointer hover:bg-gray-900 focus:bg-gray-900 text-gray-500"},o.a.createElement("div",{className:"px-4 py-2",onClick:function(){l()}},o.a.createElement(p.a,{className:"mr-4 text-lg text-gray-600",icon:"plus"}),o.a.createElement("span",{className:"font-medium"},"Add Scriplet")))))),o.a.createElement("div",null,o.a.createElement("div",{className:"".concat(i?"sidebar shadow":"hidden")},o.a.createElement("div",{className:"flex-grow h-screen bg-gray-800 relative"},o.a.createElement("div",{className:"p-4 h-16"},o.a.createElement(v.b,{to:"/",className:"text-xl text-gray-100 font-semibold"},o.a.createElement(p.a,{className:"mr-4 text-2xl text-indigo-500",icon:"project-diagram"}),"Visual Scripting")),o.a.createElement("div",{className:"p-2 my-auto lg:w-64",style:{height:"calc(100vh - 8rem)"}},o.a.createElement(b.a,{noScrollX:!0},n.map((function(t,n){return o.a.createElement(pt,{key:"scriplet-".concat(n),scriplet:t,closeNavMenu:e.closeNavMenu,onEdit:function(){return e.setState({editedScriplet:t},(function(){return c()}))},onDelete:e.onScripletDelete})})),o.a.createElement("div",{className:"".concat(n.length>0?"hidden":"flex"," justify-center mb-2 select-none")},o.a.createElement("div",{className:"p-3 text-gray-400 italic"},"No scriplets found")),o.a.createElement("div",{className:"w-full mb-1 rounded-md border-gray-600 border-dashed border-2 cursor-pointer hover:bg-gray-900 focus:bg-gray-900 text-gray-500"},o.a.createElement("div",{className:"px-4 py-2",onClick:function(){l()}},o.a.createElement(p.a,{className:"mr-4 text-lg text-gray-600",icon:"plus"}),o.a.createElement("span",{className:"font-medium"},"Add Scriplet"))))),o.a.createElement("div",{className:"px-4 py-3 h-16"},o.a.createElement("button",{className:"px-4 py-2 w-full flex items-center rounded bg-gray-700 hover:bg-gray-600 text-gray-100 cursor-pointer select-none",onClick:function(){return u()}},o.a.createElement(p.a,{className:"mr-3",icon:"cog"}),"Settings")))),o.a.createElement("div",{className:"".concat(i?"hidden":"collapsed-sidebar shadow")},o.a.createElement("div",{className:"flex-grow h-screen bg-gray-800 relative"},o.a.createElement("div",{className:"p-4 h-16 text-center"},o.a.createElement(v.b,{to:"/",className:"text-xl text-gray-100 font-semibold"},o.a.createElement(p.a,{className:"text-2xl text-indigo-500",icon:"project-diagram"}))),o.a.createElement("div",{className:"sidebar-items p-2 fixed top-16 bottom-0 my-auto"},o.a.createElement(b.a,{noScrollX:!0},n.map((function(t,n){return o.a.createElement(v.b,{key:n,onClick:e.closeNavMenu,to:"/scriplet/"+t.id,className:"block border-gray-700 border-solid border hover:border-opacity-0 mb-1 py-2 text-center rounded-md hover:bg-gray-900 focus:bg-gray-900 text-gray-100 font-bold"},t.name[0])})),o.a.createElement("div",{className:"flex mb-1 py-2 justify-center rounded-md border-gray-600 border-dashed border-2 cursor-pointer hover:bg-gray-900 focus:bg-gray-900 text-gray-500",onClick:function(){console.log("test"),l()}},o.a.createElement("div",{className:"inline-block"},o.a.createElement(p.a,{className:"text-lg text-gray-600",icon:"plus"}))))))),o.a.createElement("button",{className:"".concat(i?"w-64 ml-8 pl-56":"w-16 ml-8 pl-8"," sidebar-toggle items-center rounded-full bg-gray-700"),onClick:this.toggleSidebar},o.a.createElement("div",{className:"inline-block pl-2"},o.a.createElement(p.a,{icon:"chevron-left",className:"".concat(i?"block":"hidden"," text-gray-300")}),o.a.createElement(p.a,{icon:"chevron-right",className:"".concat(i?"hidden":"block"," text-gray-300")})))),o.a.createElement(ht,{title:"Create New Scriplet",openModal:function(t){l.toString()===function(){}.toString()&&e.setState({openAddScripletModal:t})}},(function(t){return o.a.createElement(vt,{onSaveScriplet:function(t,n){e.onScripletCreate(t,n)},onCancel:t})})),o.a.createElement(ht,{title:"Edit Scriplet",openModal:function(t){c.toString()===function(){}.toString()&&e.setState({openEditScripletModal:t})}},(function(t){return o.a.createElement(vt,{scriplet:a,onSaveScriplet:function(t,n){a?e.onScripletEdit(a.id,t,n):console.error("No edited scriplet could be found.")},onCancel:t})})),o.a.createElement(ht,{title:"Settings",openModal:function(t){u.toString()===function(){}.toString()&&e.setState({openSettingsModal:t})}},(function(e){return o.a.createElement(bt,null)})))}}]),n}(o.a.Component),yt=n(7),wt=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,null,[{key:"setCursor",value:function(e,t){var n=e.target.getStage();n?n.container().style.cursor=t:console.error("The Konva stage could not be found.")}}]),e}(),St=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,null,[{key:"cancel",value:function(){Nt.cancelInput(),Et.cancelDropdown()}}]),e}(),Nt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={value:""},a.showInput=a.showInput.bind(Object(f.a)(a)),a.onHover=a.onHover.bind(Object(f.a)(a)),a.onHoverExit=a.onHoverExit.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"showInput",value:function(e){var t=this;n.cancelInput();var a=this.props,o=a.width,r=a.height,i=a.fontSize,l=a.padding,c=a.textColor,u=a.hoverColor,s=a.borderRadius,d=a.zIndex,f=a.type,h=a.isEditable,m=a.onChange,p=""===this.state.value?this.props.value:this.state.value;if(h){var v=e.target.getStage();if(v){var b=v.scaleX(),g=e.target.absolutePosition().y,y=e.target.absolutePosition().x,w=document.createElement("input");document.body.appendChild(w),w.value=p,w.type=f,w.style.position="absolute",w.style.top="".concat(g,"px"),w.style.left="".concat(y,"px"),w.style.width="".concat(Math.min(o*b,window.innerWidth-y),"px"),w.style.height="".concat(r*b,"px"),w.style.paddingLeft="".concat(l*b,"px"),w.style.fontSize="".concat(i*b,"px"),w.style.color=c,w.style.backgroundColor=u,w.style.borderRadius="".concat(s*b,"px"),w.style.zIndex="".concat(d),w.focus(),w.onchange=function(e){var a=e.target;return a?a.value?m(a.value)?(t.setState({value:a.value}),void n.cancelInput()):(console.error("Input value requirements not met."),void n.cancelInput()):(console.error("No value typed in while editing the text."),void n.cancelInput()):(console.error("Cannot cast target to 'HTMLInputElement'."),void n.cancelInput())},n.inputElement=w}else console.error("The Konva stage could not be found.")}}},{key:"onHover",value:function(e){if(this.props.isEditable){wt.setCursor(e,"text");var t=e.currentTarget.getLayer();if(t)e.currentTarget.children[0].setAttr("fill",this.props.hoverColor),t.draw();else console.error("The Konva layer could not be found.")}}},{key:"onHoverExit",value:function(e){if(this.props.isEditable){wt.setCursor(e,"default");var t=e.currentTarget.getLayer();if(t)e.currentTarget.children[0].setAttr("fill",this.props.bgColor),t.draw();else console.error("The Konva layer could not be found.")}}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,a=t.y,r=t.width,i=t.height,l=t.fontSize,c=t.fontStyle,u=t.padding,s=t.textColor,d=t.bgColor,f=t.borderRadius,h=""===this.state.value?this.props.value:this.state.value;return o.a.createElement(yt.Label,{name:"top-bar-label",x:n,y:a,onMouseEnter:this.onHover,onMouseLeave:this.onHoverExit,onClick:function(t){t.cancelBubble=!0,e.showInput(t)},onTap:function(t){t.cancelBubble=!0,e.showInput(t)}},o.a.createElement(yt.Tag,{fill:d,cornerRadius:f}),o.a.createElement(yt.Text,{name:"top-bar-text",width:r,height:i,fontStyle:c,fontSize:l,verticalAlign:"middle",padding:u,fill:s,text:h}))}}],[{key:"cancelInput",value:function(){var e,t=n.inputElement;t&&(t.onchange=null,null===(e=t.parentNode)||void 0===e||e.removeChild(t))}}]),n}(o.a.Component);Nt.inputElement=void 0,Nt.defaultProps={x:0,y:0,width:100,height:20,fontSize:12,fontStyle:"normal",padding:0,textColor:"#000000",bgColor:"#ffffff",hoverColor:"#cccccc",borderRadius:0,zIndex:0,value:"",type:"text",isEditable:!0,onChange:function(){return!1}};var xt,Ot,Et=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={selectedIndex:0},a.showDropdown=a.showDropdown.bind(Object(f.a)(a)),a.onHover=a.onHover.bind(Object(f.a)(a)),a.onHoverExit=a.onHoverExit.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.value,n=e.values,a=this.state.selectedIndex;null!=t&&n.includes(t)&&a!==n.indexOf(t)&&this.setState({selectedIndex:n.indexOf(t)})}},{key:"showDropdown",value:function(e){var t=this;n.cancelDropdown();var a=this.props,o=a.width,r=a.height,i=a.padding,l=a.fontSize,c=a.textColor,u=a.hoverColor,s=a.borderRadius,d=a.zIndex,f=a.values,h=a.onChange,m=e.target.getStage();if(m){var p=m.scaleX(),v=e.target.absolutePosition().y,b=e.target.absolutePosition().x,g=document.createElement("select");document.body.appendChild(g),f.forEach((function(e){var t=document.createElement("option");t.value=e,t.innerText=e,g.add(t)})),g.selectedIndex=this.state.selectedIndex,g.style.position="absolute",g.style.top="".concat(v,"px"),g.style.left="".concat(b,"px"),g.style.width="".concat(Math.min(o*p,window.innerWidth-b),"px"),g.style.height="".concat(r*p,"px"),g.style.paddingLeft="".concat(i*p,"px"),g.style.fontSize="".concat(l*p,"px"),g.style.color=c,g.style.backgroundColor=u,g.style.borderRadius="".concat(s*p,"px"),g.style.zIndex="".concat(d),g.focus(),g.onchange=function(e){var a=e.target;return a?a.value?h(a.value)?(t.setState({selectedIndex:a.selectedIndex}),void n.cancelDropdown()):(console.error("Input value requirements not met."),void n.cancelDropdown()):(console.error("No value selected."),void n.cancelDropdown()):(console.error("Cannot cast target to 'HTMLSelectElement'."),void n.cancelDropdown())},n.dropdownElement=g}else console.error("The Konva stage could not be found.")}},{key:"onHover",value:function(e){wt.setCursor(e,"pointer");var t=e.currentTarget.getLayer();t?(e.currentTarget.children[0].setAttr("fill",this.props.hoverColor),t.draw()):console.error("The Konva layer could not be found.")}},{key:"onHoverExit",value:function(e){wt.setCursor(e,"default");var t=e.currentTarget.getLayer();t?(e.currentTarget.children[0].setAttr("fill",this.props.bgColor),t.draw()):console.error("The Konva layer could not be found.")}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,a=t.y,r=t.width,i=t.height,l=t.fontSize,c=t.fontStyle,u=t.padding,s=t.textColor,d=t.bgColor,f=t.borderRadius,h=t.values,m=t.value;return o.a.createElement(yt.Label,{name:"top-bar-label",x:n,y:a,onMouseEnter:this.onHover,onMouseLeave:this.onHoverExit,onClick:function(t){t.cancelBubble=!0,e.showDropdown(t)},onTap:function(t){t.cancelBubble=!0,e.showDropdown(t)}},o.a.createElement(yt.Tag,{fill:d,cornerRadius:f}),o.a.createElement(yt.Text,{name:"top-bar-text",width:r,height:i,fontStyle:c,fontSize:l,verticalAlign:"middle",padding:u,fill:s,text:null!=m&&h.includes(m)?m:h[this.state.selectedIndex]}))}}],[{key:"cancelDropdown",value:function(){var e,t=n.dropdownElement;t&&(t.onchange=null,null===(e=t.parentNode)||void 0===e||e.removeChild(t))}}]),n}(o.a.Component);Et.dropdownElement=void 0,Et.defaultProps={x:0,y:0,width:100,height:20,fontSize:12,fontStyle:"normal",padding:0,textColor:"#000000",bgColor:"#ffffff",hoverColor:"#cccccc",borderRadius:0,zIndex:0,values:[],value:"",onChange:function(){return!1}},function(e){e[e.Circle=0]="Circle",e[e.Arrow=1]="Arrow"}(xt||(xt={})),function(e){e[e.None=0]="None",e[e.Input=1]="Input",e[e.Dropdown=2]="Dropdown"}(Ot||(Ot={}));var Ct=new(function(){function e(){Object(s.a)(this,e),this.configs=void 0,this.configs=new Map;var t={handleType:xt.Circle,handleBorderColor:re.Green[700],handleFillColor:re.Green[600],inputType:Ot.Input,defaultInputValue:"",initialValue:$.defaultValue,fromString:$.convertFromString,toString:$.convertToString},n={handleType:xt.Circle,handleBorderColor:re.Purple[600],handleFillColor:re.Purple[500],inputType:Ot.Dropdown,defaultInputValue:["true","false"],initialValue:ee.defaultValue,fromString:ee.convertFromString,toString:ee.convertToString},a={handleType:xt.Circle,handleBorderColor:re.Orange[700],handleFillColor:re.Orange[500],inputType:Ot.Input,defaultInputValue:"",initialValue:_.defaultValue,fromString:_.convertFromString,toString:_.convertToString},o={handleType:xt.Arrow,handleBorderColor:re.Gray[500],handleFillColor:re.Gray[100],inputType:Ot.None,defaultInputValue:"",initialValue:te.defaultValue,fromString:te.convertFromString,toString:te.convertToString},r={handleType:xt.Circle,handleBorderColor:re.Gray[100],handleFillColor:re.Gray[100],inputType:Ot.None,defaultInputValue:"",initialValue:ne.defaultValue,fromString:function(){},toString:function(){return""}};this.configs.set($.className,t),this.configs.set(ee.className,n),this.configs.set(_.className,a),this.configs.set(te.className,o),this.configs.set(ne.className,r)}return Object(d.a)(e,[{key:"getConfig",value:function(e){return this.configs.get(e)}}]),e}()),jt=n(46),It=n.n(jt),Vt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={startPosition:{x:0,y:0}},a.onDragStart=a.onDragStart.bind(Object(f.a)(a)),a.onDragMove=a.onDragMove.bind(Object(f.a)(a)),a.onDragEnd=a.onDragEnd.bind(Object(f.a)(a)),a.onMouseEnter=a.onMouseEnter.bind(Object(f.a)(a)),a.onMouseExit=a.onMouseExit.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"onDragStart",value:function(e){if(e.target.getLayer()){St.cancel();var t=e.target,a=t.parent;if(a){var o=t.getPosition(),r=o,i="M".concat(o.x," ").concat(o.y-2," L").concat(r.x," ").concat(r.y-2),l=new It.a.Path({data:i,stroke:re.Gray[800],strokeWidth:4});a.add(l),n.path=l,this.setState({startPosition:o})}else console.error("This Konva node should be under a container node.")}else console.error("The Konva layer could not be found.")}},{key:"onDragMove",value:function(e){var t=this.props.isInput,a=this.state.startPosition;if(e.target.getLayer()){var o,r,i=e.target.getPosition();t?(o=i,r=a):(o=a,r=i);var l={x:(r.x-o.x)/2+o.x,y:(r.y-o.y)/2+o.y},c="M".concat(o.x," ").concat(o.y-2," Q").concat(o.x+30," ").concat(o.y-2," ").concat(l.x," ").concat(l.y-2," Q").concat(r.x-30," ").concat(r.y-2," ").concat(r.x," ").concat(r.y-2),u=n.path;u?u.data(c):console.error("The Konva path could not be found.")}else console.error("The Konva layer could not be found.")}},{key:"onDragEnd",value:function(e){var t=this.props,a=t.isInput,o=t.isFlow,r=t.itemId,i=t.onConnect,l=this.state.startPosition,c=e.target;c.position(l);var u=n.path;null!=u&&(u.destroy(),n.path=null);var s=c.getStage();if(s){s.draw();var d=s.getPointerPosition();if(d){var f=Math.floor(d.x),h=Math.floor(d.y),m=s.getAllIntersections({x:f,y:h});if(m&&!(m.length<=0)){var p,v,b=0,g=0;for(v=0;v<m.length;v++){var y=m[v],w=y.getAttr("data-type");if(w&&(a?"output"===w:"input"===w)){var S=y.getAttr("data-slot-type");if(S&&(o?"control"===S:"data"===S))if(b=y.getAttr("data-item-id"),g=y.getAttr("data-slot-id"),null!=b&&null!=g){if(r!==b){p=y;break}}else console.error("No attributes 'data-item-id' or 'data-slot-id' could be found from the element.")}}p&&i(b,g)}}else console.error("The Konva pointer position could not be found.")}else console.error("The Konva stage could not be found.")}},{key:"onMouseEnter",value:function(e){wt.setCursor(e,"pointer")}},{key:"onMouseExit",value:function(e){wt.setCursor(e,"default")}},{key:"render",value:function(){var e=this,t=this.props,n=t.fill,a=t.stroke,r=t.type,i=t.isInput,l=t.isFlow,c=t.itemId,u=t.slotId;return o.a.createElement(o.a.Fragment,null,r===xt.Circle&&o.a.createElement(yt.Circle,{x:i?18:-18,y:18,radius:4,fill:n,stroke:a,strokeWidth:1,scale:{x:1.5,y:1.5},listening:!1})||r===xt.Arrow&&o.a.createElement(yt.Path,{data:"M6.659,13.549L12.139,8.753C12.356,8.563 12.481,8.288 12.481,8C12.481,7.712 12.356,7.437 12.139,7.247L6.66,2.451C6.011,1.885 5,2.345 5,3.204L5,12.796C5,12.796 5,12.797 5,12.797C5,13.345 5.451,13.797 6,13.797C6.242,13.797 6.477,13.709 6.659,13.549Z",x:i?5:-31,y:6,fill:n,stroke:a,strokeWidth:1,scale:{x:1.5,y:1.5},listening:!1}),o.a.createElement(yt.Circle,{"data-type":"".concat(i?"input":"output"),"data-slot-type":"".concat(l?"control":"data"),"data-item-id":c,"data-slot-id":u,x:i?18:-18,y:22,radius:15,fill:"transparent",draggable:!0,onDragStart:function(t){t.cancelBubble=!0,e.onDragStart(t)},onDragMove:function(t){t.cancelBubble=!0,e.onDragMove(t)},onDragEnd:function(t){t.cancelBubble=!0,e.onDragEnd(t)},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseExit}))}}]),n}(o.a.Component);Vt.path=null;var kt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).label=void 0,a.type=void 0,a.label=o.a.createRef(),a.type=o.a.createRef(),a.state={labelWidth:100,typeWidth:100},a.onInputChanged=a.onInputChanged.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=null===(e=this.label.current)||void 0===e?void 0:e.width(),a=null===(t=this.type.current)||void 0===t?void 0:t.width();n&&a?this.setState({labelWidth:n,typeWidth:a}):console.error("The referenced Konva label or type text could not be found.")}},{key:"onInputChanged",value:function(e){var t=this.props,n=t.inputSlot,a=t.onInputChange,o=Ct.getConfig(n.type);if(!o)return console.error("Cannot find the input initial values for the given type '".concat(n.type,"'.")),!1;var r=o.fromString(e);return null!=r&&a(r)}},{key:"render",value:function(){var e,t,n=this.props,a=n.inputSlot,r=n.inputConnection,i=n.x,l=n.y,c=n.itemId,u=n.onConnect,s=this.state,d=s.labelWidth,f=s.typeWidth,h=Ct.getConfig(a.type);if(!h)return console.error("Cannot find the input initial values for the given type '".concat(a.type,"'.")),null;var m=null===(e=W.currentScriplet)||void 0===e?void 0:e.getNode(c);return m?o.a.createElement(yt.Group,{x:i,y:l},o.a.createElement(yt.Text,{ref:this.label,x:a.isConnectable?36:16,y:0,height:20,fontSize:12,fontStyle:"bold",verticalAlign:"bottom",fill:re.Gray[100],text:a.name}),o.a.createElement(yt.Text,{ref:this.type,x:a.isConnectable?36:16,y:20,height:20,fontSize:10,verticalAlign:"top",fill:re.Gray[100],text:a.type}),!r&&(h.inputType===Ot.Input&&o.a.createElement(Nt,{x:a.isConnectable?44+Math.max(d,f):24+Math.max(d,f),y:12,width:30,height:12,fontSize:10,padding:2,borderRadius:2,textColor:re.Gray[100],bgColor:re.Gray[700],hoverColor:re.Gray[600],value:"".concat(null!==(t=m.getInputValue(a.id))&&void 0!==t?t:a.defaultValue),isEditable:a.isEditable,onChange:this.onInputChanged})||h.inputType===Ot.Dropdown&&o.a.createElement(Et,{x:a.isConnectable?44+Math.max(d,f):24+Math.max(d,f),y:12,width:30,height:12,fontSize:10,padding:2,borderRadius:2,textColor:re.Gray[100],bgColor:re.Gray[700],hoverColor:re.Gray[600],values:h.defaultInputValue,value:null!=m.getInputValue(a.id)?"".concat(m.getInputValue(a.id)):"".concat(a.defaultValue),onChange:this.onInputChanged})),a.isConnectable&&o.a.createElement(Vt,{fill:r?h.handleFillColor:"transparent",stroke:h.handleBorderColor,type:h.handleType,isInput:!0,isFlow:!1,itemId:c,slotId:a.id,onConnect:u})):(console.error("The node item of id '".concat(c,"' could not be found.")),null)}}]),n}(o.a.Component),Tt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).label=void 0,a.type=void 0,a.label=o.a.createRef(),a.type=o.a.createRef(),a.state={labelWidth:100,typeWidth:100},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=null===(e=this.label.current)||void 0===e?void 0:e.width(),a=null===(t=this.type.current)||void 0===t?void 0:t.width();n&&a?this.setState({labelWidth:n,typeWidth:a}):console.error("The referenced Konva label or type text could not be found.")}},{key:"render",value:function(){var e=this.props,t=e.outputSlot,n=e.outputConnections,a=e.x,r=e.y,i=e.itemId,l=e.onConnect,c=this.state,u=c.labelWidth,s=c.typeWidth,d=Ct.getConfig(t.type);return d?o.a.createElement(yt.Group,{x:a,y:r},o.a.createElement(yt.Text,{ref:this.label,x:0,y:0,offsetX:36+u,height:20,fontSize:12,fontStyle:"bold",align:"right",verticalAlign:"bottom",fill:re.Gray[100],text:t.name}),o.a.createElement(yt.Text,{ref:this.type,x:0,y:20,offsetX:36+s,height:20,fontSize:10,align:"right",verticalAlign:"top",fill:re.Gray[100],text:t.type}),o.a.createElement(Vt,{fill:n.length>0?d.handleFillColor:"transparent",stroke:d.handleBorderColor,type:d.handleType,isInput:!1,isFlow:!1,itemId:i,slotId:t.id,onConnect:l})):(console.error("Cannot find the input initial values for the given type '".concat(t.type,"'.")),null)}}]),n}(o.a.Component),Mt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.inputFlowSlot,n=e.inputFlowConnection,a=e.x,r=e.y,i=e.itemId,l=e.onConnect;return o.a.createElement(yt.Group,{x:a,y:r},o.a.createElement(yt.Text,{x:t.isConnectable?36:16,y:0,height:40,fontSize:12,fontStyle:"bold",verticalAlign:"middle",fill:re.Gray[100],text:t.name}),t.isConnectable&&o.a.createElement(Vt,{fill:n?re.Gray[100]:"transparent",stroke:re.Gray[500],type:xt.Arrow,isInput:!0,isFlow:!0,itemId:i,slotId:t.id,onConnect:l}))}}]),n}(o.a.Component),Ft=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).label=void 0,a.label=o.a.createRef(),a.state={labelWidth:100},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t=null===(e=this.label.current)||void 0===e?void 0:e.width();t?this.setState({labelWidth:t}):console.error("The referenced Konva label text could not be found.")}},{key:"render",value:function(){var e=this.props,t=e.outputFlowSlot,n=e.outputFlowConnection,a=e.x,r=e.y,i=e.itemId,l=e.onConnect,c=this.state.labelWidth;return o.a.createElement(yt.Group,{x:a,y:r},o.a.createElement(yt.Text,{ref:this.label,x:0,y:0,offsetX:36+c,height:40,fontSize:12,fontStyle:"bold",align:"right",verticalAlign:"middle",fill:re.Gray[100],text:t.name}),o.a.createElement(Vt,{fill:n?re.Gray[100]:"transparent",stroke:re.Gray[500],type:xt.Arrow,isInput:!1,isFlow:!0,itemId:i,slotId:t.id,onConnect:l}))}}]),n}(o.a.Component),Dt=(n(138),n(139),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).group=void 0,a.group=o.a.createRef(),a.state={draggedHandlePath:null,isStateOpen:!1,stateVisual:null},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e;null===(e=this.group.current)||void 0===e||e.getLayer()}},{key:"render",value:function(){var e,t,n,a,r,i,l=this.props,c=l.item,u=l.width,s=l.rowHeight,d=l.topBarHeight,f=l.handleDragNode,h=l.deleteNodeItem,m=l.updateDOM,p=c.schema?c.schema.maxLength()*s+d:0,v=c.schema;if(!v)return console.error("The schema for node item '".concat(c.id,"' could not be found.")),null;var b=v.inputSlots,g=v.outputSlots,y=v.inputFlowSlots,w=v.outputFlowSlots,S=[];S=S.concat(y,b);var N=[];N=N.concat(w,g);var x=function(e){return!!e.type},O=function(e){return!!e.type};return o.a.createElement(yt.Group,{id:"node-".concat(c.id),ref:this.group,x:c.x,y:c.y,width:u,height:p,draggable:!0,onDragStart:function(e){wt.setCursor(e,"move"),St.cancel()},onDragEnd:function(e){var t;wt.setCursor(e,"default"),null===(t=W.currentScriplet)||void 0===t||t.updateNodes()},onDragMove:function(e){return f(c.id,e.target.x(),e.target.y())}},o.a.createElement(yt.Rect,{name:"background",x:0,y:0,width:u,height:p+10,fill:re.Gray[900],cornerRadius:5}),o.a.createElement(yt.Rect,{name:"top-bar",x:0,y:0,width:u,height:d,fill:re.Gray[900],cornerRadius:[5,5,0,0]}),o.a.createElement(Nt,{x:10,y:2.5,width:v.isDeletable?u-40:u-20,height:d-5,borderRadius:2,padding:6,textColor:re.Gray[100],bgColor:re.Gray[900],hoverColor:re.Gray[800],value:c.customName&&""!==c.customName?c.customName:null!==(e=null===(t=c.schema)||void 0===t?void 0:t.name)&&void 0!==e?e:"undefined",isEditable:v.isNameEditable,onChange:function(e){var t;return c.customName=e,null===(t=W.currentScriplet)||void 0===t||t.updateNodes(),!0}}),v.isDeletable&&o.a.createElement(yt.Label,{x:u-20,y:8,onMouseEnter:function(e){e.cancelBubble=!0,wt.setCursor(e,"pointer")},onMouseLeave:function(e){e.cancelBubble=!0,wt.setCursor(e,"default")},onClick:function(e){wt.setCursor(e,"default"),St.cancel(),h(c.id)}},o.a.createElement(yt.Tag,{fill:re.Red[500],cornerRadius:15}),o.a.createElement(yt.Text,{width:12,height:12,fontSize:14,fontStyle:"bold",align:"center",verticalAlign:"center",fill:re.Gray[900],text:"\xd7"})),o.a.createElement(yt.Rect,{x:0,y:d,width:u,height:s*(null!==(n=null===(a=c.schema)||void 0===a?void 0:a.maxLength())&&void 0!==n?n:1),fill:re.Gray[800]}),Array.from(Array(null!==(r=null===(i=c.schema)||void 0===i?void 0:i.maxLength())&&void 0!==r?r:0)).map((function(e,t){var n=t<S.length&&x(S[t])?S[t]:void 0,a=t<N.length&&O(N[t])?N[t]:void 0;n&&null==n.name&&(n.name="Input".concat(t)),a&&null==a.name&&(a.name="Output".concat(t));var r=t<S.length&&!x(S[t])?S[t]:void 0,i=t<N.length&&!O(N[t])?N[t]:void 0;return r&&null==r.name&&(r.name="Flow".concat(t)),i&&null==i.name&&(i.name="Flow".concat(t)),o.a.createElement(o.a.Fragment,{key:"node-slot-".concat(c.id,"-").concat(t)},null!=n&&o.a.createElement(o.a.Fragment,null,o.a.createElement(kt,{inputSlot:n,inputConnection:c.getInputConnection(n.id),x:0,y:d+t*s,itemId:c.id,onInputChange:function(e){var t;return c.setInputValue(n.id,e),null===(t=W.currentScriplet)||void 0===t||t.updateNodes(),m(),!0},onConnect:function(e,t){H.addConnection(c.id,n.id,e,t),m()}})),null!=a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Tt,{outputSlot:a,outputConnections:c.getOutputConnections(a.id),x:u,y:d+t*s,itemId:c.id,onConnect:function(e,t){H.addConnection(e,t,c.id,a.id),m()}})),null!=r&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Mt,{inputFlowSlot:r,inputFlowConnection:c.getInputFlowConnection(r.id),x:0,y:d+t*s,itemId:c.id,onConnect:function(e,t){H.addFlowConnection(c.id,r.id,e,t),m()}})),null!=i&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ft,{outputFlowSlot:i,outputFlowConnection:c.getOutputFlowConnection(i.id),x:u,y:d+t*s,itemId:c.id,onConnect:function(e,t){H.addFlowConnection(e,t,c.id,i.id),m()}})))})))}}]),n}(o.a.Component)),Bt=n(29),Rt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={isHovered:!1},a.handleOnEnter=a.handleOnEnter.bind(Object(f.a)(a)),a.handleOnExit=a.handleOnExit.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"handleOnEnter",value:function(){this.setState({isHovered:!0})}},{key:"handleOnExit",value:function(){this.setState({isHovered:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.startPos,a=t.endPos,r=t.nodeWidthOther,i=t.nodeHeight,l=t.handleOnClick,c=t.children,u=this.state.isHovered,s=i/2,d={x:(a.x-n.x-r)/2+(n.x+r),y:(a.y+s-n.y-s)/2+(n.y+s)},f="M".concat(n.x+r," ").concat(n.y+s-2," Q").concat(n.x+r+30," ").concat(n.y+s-2," ").concat(d.x," ").concat(d.y-2," Q").concat(a.x-30," ").concat(a.y+s-2," ").concat(a.x," ").concat(a.y+s-2);return o.a.createElement(o.a.Fragment,null,o.a.createElement(yt.Path,{data:f,stroke:re.Gray[800],strokeWidth:4}),o.a.createElement(yt.Path,{data:f,className:"cursor-pointer",stroke:"transparent",strokeWidth:50,onMouseEnter:function(t){e.handleOnEnter();var n=t.target.getStage();n?n.container().style.cursor="pointer":console.error("The Konva stage could not be found.")},onMouseLeave:function(t){e.handleOnExit();var n=t.target.getStage();n?n.container().style.cursor="default":console.error("The Konva stage could not be found.")},onMouseDown:l,onTouchEnd:l}),null!=c?c(d,u):null)}}]),n}(o.a.Component),Lt=n(69),At=n.n(Lt),Pt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getSubCategory",value:function(e){var t=this.subCategories.find((function(t){return t.name===e}));return t||(t=new n(e),this.subCategories.push(t)),t}},{key:"addContent",value:function(e){if(this.contentChildren.find((function(t){return t.name===e})))console.error("A duplicate of the schema '".concat(e,"' was found."));else{var t=oe.getBaseSchema(e);this.contentChildren.push(t)}}}]),n}((function e(t){Object(s.a)(this,e),this.name=void 0,this.subCategories=void 0,this.contentChildren=void 0,this.name=t,this.subCategories=[],this.contentChildren=[]})),Gt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={searchValue:""},a.onSearchChange=a.onSearchChange.bind(Object(f.a)(a)),a.onSearchReset=a.onSearchReset.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.filterSearch("")}},{key:"onSearchChange",value:function(e){var t=e.target.value;this.setState({searchValue:t}),this.props.filterSearch(t)}},{key:"onSearchReset",value:function(){this.setState({searchValue:""}),this.props.filterSearch("")}},{key:"render",value:function(){return o.a.createElement("div",{className:"h-6 flex flex-row w-full"},o.a.createElement("div",{className:"px-2 rounded-l-full bg-gray-100"},o.a.createElement(p.a,{icon:"search",className:"text-sm text-gray-700"})),o.a.createElement("input",{type:"text",value:this.state.searchValue,className:"w-full bg-gray-100 border-none text-sm",onChange:this.onSearchChange}),o.a.createElement("button",{className:"px-2 flex items-center rounded-r-full bg-gray-100",onClick:this.onSearchReset},o.a.createElement(p.a,{icon:"times-circle",className:"text-sm text-gray-700"})))}}]),n}(o.a.Component),Wt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={showChildren:!0},a.toggleCategory=a.toggleCategory.bind(Object(f.a)(a)),a.openCategory=a.openCategory.bind(Object(f.a)(a)),a.closeCategory=a.closeCategory.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"toggleCategory",value:function(){this.state.showChildren?this.closeCategory():this.openCategory()}},{key:"openCategory",value:function(){this.setState({showChildren:!0})}},{key:"closeCategory",value:function(){this.setState({showChildren:!1})}},{key:"render",value:function(){var e=this.props,t=e.category,a=e.depth,r=e.onClick,i=this.state.showChildren;return"hidden"===t.name.toLowerCase()?null:o.a.createElement("div",{style:{marginLeft:"".concat("root"===t.name?-1:0,"rem")}},"root"!==t.name&&o.a.createElement("div",{className:"flex flex-row items-center rounded-sm border-b bg-gray-900 hover:bg-gray-800 text-gray-100 cursor-pointer select-none",style:{borderColor:"#111111"},onClick:this.toggleCategory},o.a.createElement("div",{className:"px-2 text-xs"},o.a.createElement(p.a,{icon:"chevron-down",className:"".concat(i?"hidden":"")}),o.a.createElement(p.a,{icon:"chevron-up",className:"".concat(i?"":"hidden")})),o.a.createElement("div",{className:"text-sm"},t.name)),o.a.createElement("div",{className:"".concat(i?"":"hidden"," pl-4 border-l border-dashed border-gray-700")},o.a.createElement("div",{className:""},t.subCategories.map((function(e,t){return o.a.createElement(n,{key:"category-".concat(a,"-").concat(t),category:e,depth:a+1,onClick:r})}))),o.a.createElement("div",{className:""},t.contentChildren.map((function(e,t){return o.a.createElement("div",{key:"child-".concat(a,"-").concat(t),className:"px-2 rounded-sm hover:bg-gray-700 text-gray-100 cursor-pointer select-none",onClick:function(t){t.stopPropagation(),r(e.id)}},e.name)})))))}}]),n}(o.a.Component),Ht=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={schemaResults:oe.getBaseSchemas()},a.filterSearch=a.filterSearch.bind(Object(f.a)(a)),a.getRootSchemaCategory=a.getRootSchemaCategory.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"filterSearch",value:function(e){var t=oe.getBaseSchemas();t=t.filter((function(t){return(t.name.toLowerCase().includes(e.toLowerCase())||t.id.toLowerCase().includes(e.toLowerCase()))&&!t.id.toLowerCase().includes("hidden")})),this.setState({schemaResults:t})}},{key:"getRootSchemaCategory",value:function(){var e=this.state.schemaResults,t=new Pt("root"),n=t;return e.forEach((function(e){var a,o=e.id.split("/");for(a=0;a<o.length-1;a++)n=n.getSubCategory(o[a]);n.addContent(e.id),n=t})),t}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.x,a=e.y,r=e.addNodeItem,i=this.state.schemaResults,l=this.getRootSchemaCategory();return o.a.createElement("div",{className:"".concat(t?"flex":"hidden"," flex-col absolute rounded bg-gray-900 bg-opacity-90"),style:{top:a,left:n,width:"".concat(Math.min(300,window.innerWidth-n),"px"),height:"".concat(Math.min(250,window.innerHeight-a),"px")}},o.a.createElement("div",{className:"p-3"},o.a.createElement(Gt,{filterSearch:this.filterSearch})),o.a.createElement(b.a,{noScrollX:!0},o.a.createElement("div",{className:"pb-4"},o.a.createElement(Wt,{category:l,depth:0,onClick:r})),o.a.createElement("div",{className:"".concat(i.length>0?"hidden":"flex"," justify-center mb-2 select-none")},o.a.createElement("div",{className:"text-gray-400 italic"},"No schemas found"))))}}]),n}(o.a.Component),qt=(n(140),n(141),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={selectedId:-1,name:"",selectedType:"String",startValue:void 0},a.setStartValue=a.setStartValue.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props.variable,t=this.state.selectedId;e&&t!==e.id&&this.setState({selectedId:e.id,name:e.name,selectedType:e.type,startValue:e.startValue})}},{key:"setStartValue",value:function(e){var t;switch(this.state.selectedType){case"Number":t=parseInt(e);break;case"Boolean":t="true"===e;break;default:t=e}this.setState({startValue:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.selectedType,r=t.startValue,i=this.props,l=i.onSaveVariable,c=i.onCancel;return o.a.createElement("div",{className:"flex flex-col"},o.a.createElement("div",{className:"flex flex-col mb-4"},o.a.createElement("label",{className:"mb-1 text-sm text-gray-700"},"Name"),o.a.createElement("input",{className:"px-2 border-2 rounded",type:"text",name:"title",value:n,onChange:function(t){e.setState({name:t.target.value})}})),o.a.createElement("div",{className:"flex flex-col mb-4"},o.a.createElement("label",{className:"mb-1 text-sm text-gray-700"},"Type"),o.a.createElement("select",{className:"px-1 border-2 rounded text-gray-800",name:"",id:"",value:a,onChange:function(t){e.setState({selectedType:t.target.value})}},o.a.createElement("option",{value:"Number"},"Number"),o.a.createElement("option",{value:"Boolean"},"Boolean"),o.a.createElement("option",{value:"String"},"String"))),o.a.createElement("div",{className:"flex flex-col mb-6"},o.a.createElement("label",{className:"mb-1 text-sm text-gray-700"},"Start Value"),"Number"===a&&o.a.createElement("input",{className:"px-2 border-2 rounded",type:"number",name:"title",value:"".concat(null!==r&&void 0!==r?r:""),onChange:function(t){return e.setStartValue(t.target.value)}})||"Boolean"===a&&o.a.createElement("select",{className:"px-2 border-2 rounded text-gray-800",name:"",id:"",value:"".concat(null!==r&&void 0!==r?r:""),onChange:function(t){return e.setStartValue(t.target.value)}},o.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Select a value..."),o.a.createElement("option",{value:"true"},"True"),o.a.createElement("option",{value:"false"},"False"))||("String"===a||""===a)&&o.a.createElement("input",{className:"px-2 border-2 rounded",type:"text",name:"title",value:"".concat(null!==r&&void 0!==r?r:""),onChange:function(t){return e.setStartValue(t.target.value)}})),o.a.createElement("div",{className:"flex flex-row-reverse"},o.a.createElement("button",{className:"ml-4 px-2 py-1 rounded bg-blue-600 text-gray-100 hover:bg-blue-500",onClick:function(){n&&a&&null!=r&&""!==r?(l(n,a,r),c()):console.error("The form for creating a variable cannot have empty fields.")}},"Save"),o.a.createElement("button",{className:"px-2 py-1 rounded bg-gray-500 text-gray-100 hover:bg-gray-400",onClick:c},"Cancel")))}}]),n}(o.a.Component)),zt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.variable,n=e.onDragStart,a=e.onDragEnd,r=e.onEdit,i=e.onDelete;return o.a.createElement("div",{className:"mb-2 select-none",draggable:!0,onDragStart:n,onDragEnd:a},o.a.createElement("div",{className:"flex flex-row items-center px-2 py-1 rounded hover:bg-gray-700",style:{cursor:"grab"}},o.a.createElement("div",{className:"flex flex-col w-full mr-2"},o.a.createElement("div",{className:"text-sm text-gray-100"},t.name),o.a.createElement("div",{className:"text-xs text-gray-300"},t.type)),o.a.createElement("div",{className:"px-2 py-2 w-full text-gray-100"},o.a.createElement("div",{className:"px-1 rounded-sm bg-gray-600"},"".concat(t.startValue))),o.a.createElement(mt,{onEdit:function(){return r(t.id)},onDelete:function(){return i(t.id)}})))}}]),n}(o.a.Component);n(142);var Ut=n(144).js_beautify,Kt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).codeResult=void 0,a.selector=void 0,a.codeResult=o.a.createRef(),a.selector=o.a.createRef(),a.state={selectedId:0,editorValue:Ut("return 42;",{indent_size:4}),isCodeOpen:!1,isDragging:!1,isSelecting:!1,selectionLocation:{x:0,y:0},selectedVariable:{id:-1,name:"",type:"",startValue:void 0,value:void 0},screenWidth:window.innerWidth,searchValue:"",variableResults:[],editedVariable:{id:-1,name:"",type:"",startValue:void 0,value:void 0},inputResults:[],editedInput:{id:-1,name:"",type:"",startValue:void 0,value:void 0},openAddVariableModal:function(){},openEditVariableModal:function(){},openAddInputModal:function(){},openEditInputModal:function(){}},a.setScreenWidth=a.setScreenWidth.bind(Object(f.a)(a)),a.handleRun=a.handleRun.bind(Object(f.a)(a)),a.handleClear=a.handleClear.bind(Object(f.a)(a)),a.handleBeautifyCode=a.handleBeautifyCode.bind(Object(f.a)(a)),a.handleEvaluateNodes=a.handleEvaluateNodes.bind(Object(f.a)(a)),a.openCode=a.openCode.bind(Object(f.a)(a)),a.closeCode=a.closeCode.bind(Object(f.a)(a)),a.toggleCode=a.toggleCode.bind(Object(f.a)(a)),a.onMessageLog=a.onMessageLog.bind(Object(f.a)(a)),a.filterSearch=a.filterSearch.bind(Object(f.a)(a)),a.refreshSearch=a.refreshSearch.bind(Object(f.a)(a)),a.onAddVariable=a.onAddVariable.bind(Object(f.a)(a)),a.onEditVariable=a.onEditVariable.bind(Object(f.a)(a)),a.onDeleteVariable=a.onDeleteVariable.bind(Object(f.a)(a)),a.onAddInput=a.onAddInput.bind(Object(f.a)(a)),a.onEditInput=a.onEditInput.bind(Object(f.a)(a)),a.onDeleteInput=a.onDeleteInput.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.setScreenWidth),it.subscribe((function(t){return e.onMessageLog(t)}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setScreenWidth)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.scripletId;this.state.selectedId!==t&&W.selectScriplet(t).then((function(n){e.filterSearch(""),e.handleClear(),e.setState({selectedId:t})}))}},{key:"setScreenWidth",value:function(){this.setState({screenWidth:window.innerWidth})}},{key:"handleRun",value:function(){var e=W.currentScriplet;if(e){e.resetVariables();var t=e.getStart().schema;if(t){var n=t.inputFlowSlots[0];n?(n.evaluateSlot(),it.success("Finished running code!")):console.error("The start node is missing the Entry input flow slot.")}else console.error("The start node is missing the schema.")}else console.error("The current scriplet could not be found.")}},{key:"handleClear",value:function(){var e=this.codeResult.current;e?e.innerText="Run code first":console.error("App console could not be found.")}},{key:"handleBeautifyCode",value:function(){this.setState((function(e){return{editorValue:Ut(e.editorValue,{indent_size:4})}}))}},{key:"handleEvaluateNodes",value:function(){}},{key:"openCode",value:function(){this.setState({isCodeOpen:!0})}},{key:"closeCode",value:function(){this.setState({isCodeOpen:!1})}},{key:"toggleCode",value:function(){this.state.isCodeOpen?this.closeCode():this.openCode()}},{key:"onMessageLog",value:function(e){var t=this.codeResult.current;t?"Run code first"===t.innerText?t.innerHTML='<p style="color: '.concat(e.color,'">').concat(e.message,"</p>"):t.innerHTML+='<p style="color: '.concat(e.color,'">').concat(e.message,"</p>"):console.error("App console could not be found.")}},{key:"filterSearch",value:function(e){var t=W.currentScriplet;if(t){var n=t.getVariables();n=n.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())||t.type.toLowerCase().includes(e.toLowerCase())||"".concat(t.startValue).toLowerCase().includes(e.toLowerCase())}));var a=t.getInputs();a=a.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())||t.type.toLowerCase().includes(e.toLowerCase())||"".concat(t.startValue).toLowerCase().includes(e.toLowerCase())})),this.setState({variableResults:n,inputResults:a})}else console.error("The current scriplet could not be found.")}},{key:"refreshSearch",value:function(){this.filterSearch("")}},{key:"onAddVariable",value:function(e,t,n){var a=W.currentScriplet;a?a.addVariable(e,t,n,void 0):console.error("The current scriplet could not be found.")}},{key:"onEditVariable",value:function(e,t,n,a){var o=W.currentScriplet;o?(o.setVariable({id:e,name:t,type:n,startValue:a,value:void 0}),o.updateVariables()):console.error("The current scriplet could not be found.")}},{key:"onDeleteVariable",value:function(e){var t=W.currentScriplet;t?(t.deleteVariable(e),this.refreshSearch()):console.error("The current scriplet could not be found.")}},{key:"onAddInput",value:function(e,t,n){var a=W.currentScriplet;a?a.addInput(e,t,n,void 0):console.error("The current scriplet could not be found.")}},{key:"onEditInput",value:function(e,t,n,a){var o=W.currentScriplet;o?o.setInput({id:e,name:t,type:n,startValue:a,value:void 0}):console.error("The current scriplet could not be found.")}},{key:"onDeleteInput",value:function(e){var t=W.currentScriplet;t?(t.deleteVariable(e),this.refreshSearch()):console.error("The current scriplet could not be found.")}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.isCodeOpen,r=n.isDragging,i=n.isSelecting,l=n.selectionLocation,c=n.selectedVariable,u=n.screenWidth,s=n.variableResults,d=n.editedVariable,f=n.inputResults,h=n.editedInput,m=n.openAddVariableModal,v=n.openEditVariableModal,g=n.openAddInputModal,y=n.openEditInputModal,w=this.props,S=w.addNodeItem,N=w.resetView,x=w.zoomInView,O=w.zoomOutView;return i&&(null===(e=this.selector.current)||void 0===e||e.focus()),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"".concat(a?"code-container":"hidden"," shadow flex flex-row lg:flex-col")},o.a.createElement("div",{className:"flex flex-col p-3 w-2/3 lg:w-full lg:h-2/3 lg:border-b-2 border-gray-900 bg-gray-800"},o.a.createElement(Gt,{filterSearch:this.filterSearch}),o.a.createElement("div",{className:"flex flex-row lg:flex-col h-full w-full"},o.a.createElement("div",{className:"w-1/2 h-full lg:w-full lg:h-1/2 pr-2 lg:pr-0"},o.a.createElement("div",{className:"mt-2 mb-1 text-gray-100"},"Variables",o.a.createElement("hr",{className:"mt-1"})),o.a.createElement("div",{className:"w-full h-5/6"},o.a.createElement(b.a,{noScrollX:!0},s.map((function(e,n){return o.a.createElement(zt,{key:"variable-".concat(n),variable:e,onDragStart:function(n){n.stopPropagation(),n.dataTransfer.setData("text/plain",JSON.stringify({id:e.id,isVariable:!0,isInput:!1})),t.setState({isDragging:!0})},onDragEnd:function(){t.setState({isDragging:!1})},onEdit:function(n){t.setState({editedVariable:e},(function(){return v()}))},onDelete:function(e){t.onDeleteVariable(e)}})})),o.a.createElement("div",{className:"".concat(s.length>0?"hidden":"flex"," justify-center mb-2 select-none")},o.a.createElement("div",{className:"p-3 text-gray-400 italic"},"No variables found")),o.a.createElement("div",{className:"w-full mb-1 rounded-md border-gray-600 border-dashed border-2 cursor-pointer hover:bg-gray-900 focus:bg-gray-900 text-gray-500"},o.a.createElement("div",{className:"px-4 py-2",onClick:function(){m()}},o.a.createElement(p.a,{className:"mr-4 text-lg text-gray-600",icon:"plus"}),o.a.createElement("span",{className:"font-medium"},"Add Variable")))))),o.a.createElement("div",{className:"w-1/2 h-full lg:h-1/2 lg:w-full pl-2 lg:pl-0"},o.a.createElement("div",{className:"mt-2 mb-1 text-gray-100"},"Inputs",o.a.createElement("hr",{className:"mt-1"})),o.a.createElement("div",{className:"w-full h-5/6"},o.a.createElement(b.a,{noScrollX:!0},f.map((function(e,n){return o.a.createElement(zt,{key:"variable-".concat(n),variable:e,onDragStart:function(n){n.stopPropagation(),n.dataTransfer.setData("text/plain",JSON.stringify({id:e.id,isVariable:!1,isInput:!0})),t.setState({isDragging:!0})},onDragEnd:function(){t.setState({isDragging:!1})},onEdit:function(n){t.setState({editedInput:e},(function(){return y()}))},onDelete:function(e){t.onDeleteInput(e)}})})),o.a.createElement("div",{className:"".concat(f.length>0?"hidden":"flex"," justify-center mb-2 select-none")},o.a.createElement("div",{className:"p-3 text-gray-400 italic"},"No inputs found")),o.a.createElement("div",{className:"w-full mb-1 rounded-md border-gray-600 border-dashed border-2 cursor-pointer hover:bg-gray-900 focus:bg-gray-900 text-gray-500"},o.a.createElement("div",{className:"px-4 py-2",onClick:function(){g()}},o.a.createElement(p.a,{className:"mr-4 text-lg text-gray-600",icon:"plus"}),o.a.createElement("span",{className:"font-medium"},"Add Input")))))))),o.a.createElement("div",{className:"w-1/3 h-full lg:w-full lg:h-1/3 bg-gray-800"},o.a.createElement(b.a,null,o.a.createElement("div",{className:"px-4 py-2 lg:w-auto flex-grow text-gray-100",ref:this.codeResult},"Run code first"))),o.a.createElement("button",{className:"run-code items-center justify-center rounded shadow bg-gray-700 text-gray-200 hover:bg-gray-600 select-none",onClick:this.handleRun},o.a.createElement(p.a,{className:"text-sm",icon:"play"}),"\xa0 Run"),o.a.createElement("button",{className:"clear-code items-center justify-center rounded shadow bg-gray-700 text-gray-200 hover:bg-gray-600 select-none",onClick:this.handleClear},o.a.createElement(p.a,{className:"text-sm",icon:"trash"}),"\xa0 Clear"),o.a.createElement("button",{className:"absolute px-2 py-1 rounded shadow bg-gray-700 hover:bg-gray-600 text-gray-100",style:u>=1024?{top:"1rem",left:"-7rem"}:{bottom:"15rem",right:"3.5rem"},onClick:N},"Reset"),o.a.createElement("button",{className:"absolute px-2 py-1 rounded shadow bg-gray-700 hover:bg-gray-600 text-gray-100",style:u>=1024?{top:"1rem",left:"-3rem"}:{bottom:"17.5rem",right:"1rem"},onClick:x},o.a.createElement(p.a,{icon:"plus"})),o.a.createElement("button",{className:"absolute px-2 py-1 rounded shadow bg-gray-700 hover:bg-gray-600 text-gray-100",style:u>=1024?{top:"3.5rem",left:"-3rem"}:{bottom:"15rem",right:"1rem"},onClick:O},o.a.createElement(p.a,{icon:"minus"}))),o.a.createElement("div",{className:"".concat(a?"hidden":"collapsed-code"," shadow bg-gray-800 items-center lg:justify-center lg:items-start")},o.a.createElement("div",{className:"p-4"},o.a.createElement(p.a,{icon:"code",className:"text-xl text-gray-300"})),o.a.createElement("button",{className:"absolute px-2 py-1 rounded shadow bg-gray-700 hover:bg-gray-600 text-gray-100",style:u>=1024?{top:"1rem",left:"-7rem"}:{bottom:"5rem",right:"3.5rem"},onClick:N},"Reset"),o.a.createElement("button",{className:"absolute px-2 py-1 rounded shadow bg-gray-700 hover:bg-gray-600 text-gray-100",style:u>=1024?{top:"1rem",left:"-3rem"}:{bottom:"7.5rem",right:"1rem"},onClick:x},o.a.createElement(p.a,{icon:"plus"})),o.a.createElement("button",{className:"absolute px-2 py-1 rounded shadow bg-gray-700 hover:bg-gray-600 text-gray-100",style:u>=1024?{top:"3.5rem",left:"-3rem"}:{bottom:"5rem",right:"1rem"},onClick:O},o.a.createElement(p.a,{icon:"minus"}))),o.a.createElement("button",{className:"".concat(a?"h-56 mb-8 pb-48":"h-16 mb-8 pb-8"," ").concat(u>=1024?"hidden":"code-toggle"," items-center flex-col-reverse rounded-full bg-gray-700"),onClick:this.toggleCode},o.a.createElement("div",{className:"inline-block pb-1"},o.a.createElement(p.a,{icon:"chevron-down",className:"".concat(a?"block":"hidden"," text-gray-300")}),o.a.createElement(p.a,{icon:"chevron-up",className:"".concat(a?"hidden":"block"," text-gray-300")}))),o.a.createElement("button",{className:"".concat(a?"w-64 mr-8 pr-56":"w-16 mr-8 pr-8"," ").concat(u>=1024?"code-toggle":"hidden"," items-center flex-row-reverse rounded-full bg-gray-700"),onClick:this.toggleCode},o.a.createElement("div",{className:"inline-block pr-2"},o.a.createElement(p.a,{icon:"chevron-right",className:"".concat(a?"block":"hidden"," text-gray-300")}),o.a.createElement(p.a,{icon:"chevron-left",className:"".concat(a?"hidden":"block"," text-gray-300")}))),o.a.createElement("div",{className:"".concat(r?"flex":"hidden"," absolute-full justify-center items-center z-10 bg-gray-700 bg-opacity-25"),onDragEnter:function(e){return e.preventDefault()},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault();var n=e.pageX,a=e.pageY,o=JSON.parse(e.dataTransfer.getData("text/plain")),r=W.currentScriplet;if(r){var i;if(!o.isVariable){if(o.isInput){var l=r.getInput(o.id);return l?void S("Hidden/Input/".concat(l.type),n,a,void 0,l.id,"Input"):void console.error("The input of id '".concat(o.id,"' could not be found."))}var c=r.getOutput(o.id);return c?void S("Hidden/Output/".concat(c.type),n,a,void 0,c.id,"Output"):void console.error("The output of id '".concat(o.id,"' could not be found."))}var u=r.getVariable(o.id);u?(i=u,t.setState({isSelecting:o.isVariable,selectionLocation:{x:n,y:a},selectedVariable:i})):console.error("The variable of id '".concat(o.id,"' could not be found."))}else console.error("The current scriplet could not be found.")}},o.a.createElement("div",{className:"text-xl text-gray-900"},"Drag here...")),o.a.createElement("div",{ref:this.selector,className:"".concat(i?"flex":"hidden"," flex-col rounded bg-gray-700 outline-none"),style:{position:"absolute",top:"".concat(l.y,"px"),left:"".concat(l.x,"px")},tabIndex:0,onBlur:function(){t.setState({isSelecting:!1})}},o.a.createElement("div",{className:"px-2 py-1 rounded hover:bg-gray-600 text-gray-100 select-none cursor-pointer",onClick:function(e){e.bubbles=!0,S("Hidden/Getter/".concat(c.type),l.x,l.y,void 0,c.id,"Variable"),t.setState({isSelecting:!1})}},"Get ".concat(c.name)),o.a.createElement("div",{className:"px-2 py-1 rounded hover:bg-gray-600 text-gray-100 select-none cursor-pointer",onClick:function(e){e.stopPropagation(),S("Hidden/Setter/".concat(c.type),l.x,l.y,void 0,c.id,"Variable"),t.setState({isSelecting:!1})}},"Set ".concat(c.name))),o.a.createElement(ht,{title:"Create New Variable",openModal:function(e){m.toString()===function(){}.toString()&&t.setState({openAddVariableModal:e})}},(function(e){return o.a.createElement(qt,{onSaveVariable:function(e,n,a){t.onAddVariable(e,n,a),t.refreshSearch()},onCancel:e})})),o.a.createElement(ht,{title:"Edit Variable",openModal:function(e){v.toString()===function(){}.toString()&&t.setState({openEditVariableModal:e})}},(function(e){return o.a.createElement(qt,{variable:d,onSaveVariable:function(e,n,a){t.onEditVariable(d.id,e,n,a),t.refreshSearch()},onCancel:e})})),o.a.createElement(ht,{title:"Create New Input",openModal:function(e){g.toString()===function(){}.toString()&&t.setState({openAddInputModal:e})}},(function(e){return o.a.createElement(qt,{onSaveVariable:function(e,n,a){t.onAddInput(e,n,a),t.refreshSearch()},onCancel:e})})),o.a.createElement(ht,{title:"Edit Input",openModal:function(e){y.toString()===function(){}.toString()&&t.setState({openEditInputModal:e})}},(function(e){return o.a.createElement(qt,{variable:h,onSaveVariable:function(e,n,a){t.onEditInput(h.id,e,n,a),t.refreshSearch()},onCancel:e})})))}}]),n}(o.a.Component),Xt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).stageContainer=void 0,a.stage=void 0,a.stageContainer=o.a.createRef(),a.stage=o.a.createRef(),a.state={selectedId:0,isDirtyDOM:!1,isReadyToMount:!1,isReady:!1,contextMenu:null,inputElement:null,isContextMenuShown:!1,contextMenuPos:{x:0,y:0}},a.updateDOM=a.updateDOM.bind(Object(f.a)(a)),a.addNodeItem=a.addNodeItem.bind(Object(f.a)(a)),a.deleteNodeItem=a.deleteNodeItem.bind(Object(f.a)(a)),a.handleDragNode=a.handleDragNode.bind(Object(f.a)(a)),a.handleDeleteEdge=a.handleDeleteEdge.bind(Object(f.a)(a)),a.handleDeleteFlowEdge=a.handleDeleteFlowEdge.bind(Object(f.a)(a)),a.handleZoom=a.handleZoom.bind(Object(f.a)(a)),a.handleContextMenu=a.handleContextMenu.bind(Object(f.a)(a)),a.handleCancelContextMenu=a.handleCancelContextMenu.bind(Object(f.a)(a)),a.fitToParent=a.fitToParent.bind(Object(f.a)(a)),a.resetView=a.resetView.bind(Object(f.a)(a)),a.zoomInView=a.zoomInView.bind(Object(f.a)(a)),a.zoomOutView=a.zoomOutView.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;W.selectScriplet(this.props.scripletId).then((function(t){t&&(e.resetView(),e.setState({isReadyToMount:!0}))}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.fitToParent)}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.isReadyToMount){var t;window.addEventListener("resize",this.fitToParent),this.fitToParent();var n=null===(t=this.stage.current)||void 0===t?void 0:t.getStage();if(n)new At.a("Font Awesome 5 Free").load().then((function(){console.log("Font Awesome 5 has loaded!"),n.draw()}),(function(){console.error("Font Awesome 5 has not loaded!")}));this.setState({isReadyToMount:!1,isReady:!0})}this.state.isDirtyDOM&&this.setState({isDirtyDOM:!1});var a=this.props.scripletId;this.state.selectedId!==a&&W.selectScriplet(a).then((function(t){t&&(e.resetView(),e.setState({selectedId:a}))}))}},{key:"updateDOM",value:function(){this.setState({isDirtyDOM:!0})}},{key:"addNodeItem",value:function(e,t,n,a,o,r){var i,l=W.currentScriplet;if(l){var c=null===(i=this.stage.current)||void 0===i?void 0:i.getStage();if(c){var u=c.getPointerPosition();u?(u.x=((null!==t&&void 0!==t?t:u.x)-c.x())/c.scaleX(),u.y=((null!==n&&void 0!==n?n:u.y)-c.y())/c.scaleY(),l.addNode(u.x,u.y,e,[],[],[],new Map,[],a,o,r),this.handleCancelContextMenu(),this.updateDOM()):console.error("The Konva pointer position could not be found.")}else console.error("The konva stage could not be found.")}else console.error("The current scriplet of id '".concat(this.props.scripletId,"' could not be found."))}},{key:"deleteNodeItem",value:function(e){var t=W.currentScriplet;if(t){var n=t.getNode(e);if(n){var a=n.schema;a?a.isDeletable?H.deleteAllConnections(e)&&(t.deleteNode(e),this.updateDOM()):console.error("This schema cannot be deleted."):console.error("The schema of node item '".concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet of id '".concat(this.props.scripletId,"' could not be found."))}},{key:"handleDragNode",value:function(e,t,n){var a=W.currentScriplet;if(a){var o=a.getNode(e);o?(o.x=t,o.y=n,a.items.set(e,o),this.updateDOM()):console.error("The node of id '".concat(e,"' could not be found."))}else console.error("The current scriplet of id '".concat(this.props.scripletId,"' could not be found."))}},{key:"handleDeleteEdge",value:function(e,t,n,a){H.deleteConnection(e,t,n,a),this.updateDOM()}},{key:"handleDeleteFlowEdge",value:function(e,t,n,a){H.deleteFlowConnection(e,t,n,a),this.updateDOM()}},{key:"handleZoom",value:function(e){e.evt.preventDefault();var t=e.target.getStage();if(t){var n=t.scaleX(),a=t.getPointerPosition();if(a){var o=(a.x-t.x())/n,r=(a.y-t.y())/n,i=e.evt.deltaY<0?1.1*n:n/1.1;t.scale({x:i,y:i});var l={x:a.x-o*i,y:a.y-r*i};t.position(l),t.batchDraw()}else console.error("The Konva pointer position could not be found.")}else console.error("The Konva Stage could not be found.")}},{key:"handleContextMenu",value:function(e){if("Stage"===e.target.getType()){var t=e.target.getStage();e.target.getChildren((function(e){return"context-menu-layer"===e.getAttr("data-name")}))[0]&&t?this.setState({isContextMenuShown:!0,contextMenuPos:{x:e.evt.pageX,y:e.evt.pageY}}):console.error("Either the Konva layer or Konva stage could not be found.")}}},{key:"handleCancelContextMenu",value:function(){this.setState({isContextMenuShown:!1})}},{key:"fitToParent",value:function(){var e=this.stageContainer.current,t=this.stage.current;if(e&&t){var n=t.getStage();n.width(e.offsetWidth),n.height(e.offsetHeight),n.draw()}else console.error("Either the referenced container or referenced stage could not be found.")}},{key:"resetView",value:function(){var e,t=null===(e=this.stage.current)||void 0===e?void 0:e.getStage();t?(t.x(275),t.y(275),t.scaleX(1),t.scaleY(1),t.draw()):console.error("The konva stage could not be found.")}},{key:"zoomInView",value:function(){var e,t=null===(e=this.stage.current)||void 0===e?void 0:e.getStage();t?(t.scaleX(1.2*t.scaleX()),t.scaleY(1.2*t.scaleY()),t.draw()):console.error("The konva stage could not be found.")}},{key:"zoomOutView",value:function(){var e,t=null===(e=this.stage.current)||void 0===e?void 0:e.getStage();t?(t.scaleX(.8*t.scaleX()),t.scaleY(.8*t.scaleY()),t.draw()):console.error("The konva stage could not be found.")}},{key:"render",value:function(){var e=this,t=this.state,n=t.isReadyToMount,a=t.isReady,r=t.isContextMenuShown,i=t.contextMenuPos;if(!n&&!a)return null;var l=W.currentScriplet;return l?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:this.stageContainer,className:"main"},o.a.createElement(Bt.c,{ref:this.stage,className:"bg-gray-200",onWheel:function(t){e.handleZoom(t),e.handleCancelContextMenu(),St.cancel()},onContextMenu:function(t){t.evt.preventDefault(),t.cancelBubble=!0,e.handleContextMenu(t)},onClick:function(t){e.handleCancelContextMenu(),St.cancel()},onDragStart:function(t){e.handleCancelContextMenu(),St.cancel()},draggable:!0},o.a.createElement(Bt.a,{id:"edges-layer"}),o.a.createElement(yt.Layer,null,Object(ae.a)(l.getNodes()).map((function(t){var n=t.schema;if(!n)return console.error("The schema for node item '".concat(t.id,"' could not be found.")),null;var a=H.getInputConnections(t.id),r=H.getInputFlowConnections(t.id);return o.a.createElement(yt.Group,{key:"node-".concat(t.id)},a.map((function(n){if(!n)return null;var a=l.getNode(n.itemId);if(!a)return console.error("The node item of id '".concat(n.itemId,"' could not be found.")),null;var r=a.schema;return r?o.a.createElement(Bt.b,{key:"edge-".concat(t.id,"-").concat(n.id,"-").concat(n.itemId,"-").concat(n.slotId),containerId:"edges-layer"},o.a.createElement(Rt,{startPos:{x:a.x,y:a.y+40*n.slotId+30},endPos:{x:t.x,y:t.y+40*n.id+30},nodeWidthOther:r.width,nodeHeight:40,handleOnClick:function(){return e.handleDeleteEdge(t.id,n.id,n.itemId,n.slotId)}},(function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(yt.Rect,{visible:t,x:e.x-12,y:e.y-10,width:24,height:16,fill:re.Gray[800],listening:!1}),o.a.createElement(yt.Text,{visible:t,x:e.x-12,y:e.y-10,width:24,height:19,text:"\xd7",fontStyle:"bold",fontSize:20,align:"center",verticalAlign:"middle",fill:re.Gray[100],listening:!1}))}))):(console.error("The schema for node item '".concat(a.id,"' could not be found.")),null)})),r.map((function(n){if(!n)return null;var a=l.getNode(n.itemId);if(!a)return console.error("The item of id '".concat(n.itemId,"' could not be found.")),null;var r=a.schema;return r?o.a.createElement(Bt.b,{key:"edge-flow-".concat(t.id,"-").concat(n.id,"-").concat(n.itemId,"-").concat(n.slotId),containerId:"edges-layer"},o.a.createElement(Rt,{startPos:{x:a.x,y:a.y+40*n.slotId+30},endPos:{x:t.x,y:t.y+40*n.id+30},nodeWidthOther:r.width,nodeHeight:40,handleOnClick:function(){return e.handleDeleteFlowEdge(t.id,n.id,n.itemId,n.slotId)}},(function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(yt.Rect,{visible:t,x:e.x-12,y:e.y-10,width:24,height:16,fill:re.Gray[800],listening:!1}),o.a.createElement(yt.Text,{visible:t,x:e.x-12,y:e.y-10,width:24,height:19,text:"\xd7",fontStyle:"bold",fontSize:20,align:"center",verticalAlign:"middle",fill:re.Gray[100],listening:!1}))}))):(console.error("The schema for node item '".concat(a.id,"' could not be found.")),null)})),o.a.createElement(Dt,{item:t,width:n.width,rowHeight:40,topBarHeight:30,handleDragNode:e.handleDragNode,deleteNodeItem:e.deleteNodeItem,updateDOM:e.updateDOM}))}))),o.a.createElement(yt.Layer,{"data-name":"context-menu-layer"})),o.a.createElement(Ht,{isVisible:r,x:i.x,y:i.y,addNodeItem:this.addNodeItem})),o.a.createElement(Kt,{scripletId:this.props.scripletId,addNodeItem:this.addNodeItem,resetView:this.resetView,zoomInView:this.zoomInView,zoomOutView:this.zoomOutView})):(console.error("The current scriplet of id '".concat(this.props.scripletId,"' could not be found.")),null)}}]),n}(o.a.Component);function Yt(e){var t=e.children,n=Object(u.f)().scripletId;return o.a.createElement(o.a.Fragment,null,null!=t?t(parseInt(n)):null)}l.b.add(c.a);var Jt=function(){return o.a.createElement("div",{className:"flex flex-col lg:flex-row"},o.a.createElement(gt,null),o.a.createElement("main",null,o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/scriplet/:scripletId"},o.a.createElement(Yt,null,(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Xt,{scripletId:e}))}))),o.a.createElement(u.a,{path:"/"},o.a.createElement("div",{className:"p-6 flex justify-center items-center h-screen w-screen"},o.a.createElement("h1",{className:"text-xl text-gray-600"},"Please select a scriplet first."))))))},Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v.a,{basename:"/vso"},o.a.createElement(Jt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/vso",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/vso","/service-worker.js");Zt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Qt(t,e)}))}}()},71:function(e,t,n){e.exports=n(146)},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.473a4315.chunk.js.map