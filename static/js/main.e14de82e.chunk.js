(this["webpackJsonpvisual-scripting"]=this["webpackJsonpvisual-scripting"]||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(32),i=n.n(r),l=(n(75),n(76),n(77),n(26)),c=n(70),u=n(14),s=n(2),d=n(3),h=n(4),f=n(6),p=n(7),m=n(12),v=n(21),b=n(27),g=n(17),y=n.n(g),w=n(22),S=n(65),x=n(66);Array.prototype.indexOfWhen=function(e){for(var t=0;t<this.length;){if(e(this[t]))return t;t++}};var C,O,I,N,E,k,j,T,F,M,D,V,R,P,W,L=new(function(){function e(){Object(s.a)(this,e),this.currentScriplet=void 0}return Object(d.a)(e,[{key:"selectScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getScriplet(t).then((function(e){return console.log(e),n.currentScriplet=e,!0})).catch((function(e){return console.error("Something went wrong when getting the scriplet of id '".concat(t,"'. Error: ").concat(e)),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),A=new(function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"getInputSlot",value:function(e,t){var n,o=L.currentScriplet;if(o){var a=o.getNode(e);if(a){var r=null===(n=a.schema)||void 0===n?void 0:n.inputSlots.find((function(e){return e.id===t}));if(r)return r;console.error("The input slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"getInputSlots",value:function(e){var t,n=L.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),[];var o=n.getNode(e);if(!o)return console.error("The node item of id '".concat(e,"' could not be found.")),[];var a=null===(t=o.schema)||void 0===t?void 0:t.inputSlots;return a||(console.error("The schema of node item '".concat(e,"' could not be found.")),[])}},{key:"getInputConnections",value:function(e){var t=L.currentScriplet;if(!t)return console.error("The current scriplet could not be found."),[];var n=t.getNode(e);return n?n.inputSlots:(console.error("The node item of id '".concat(e,"' could not be found.")),[])}},{key:"getOutputSlot",value:function(e,t){var n,o=L.currentScriplet;if(o){var a=o.getNode(e);if(a){var r=null===(n=a.schema)||void 0===n?void 0:n.outputSlots.find((function(e){return e.id===t}));if(r)return r;console.error("The input slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"getOutputSlots",value:function(e){var t,n=L.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),[];var o=n.getNode(e);if(!o)return console.error("The node item of id '".concat(e,"' could not be found.")),[];var a=null===(t=o.schema)||void 0===t?void 0:t.outputSlots;return a||(console.error("The schema of node item '".concat(e,"' could not be found.")),[])}},{key:"getOutputConnections",value:function(e){var t=L.currentScriplet;if(!t)return console.error("The current scriplet could not be found."),new Map;var n=t.getNode(e);return n?n.outputSlots:(console.error("The node item of id '".concat(e,"' could not be found.")),new Map)}},{key:"addConnection",value:function(e,t,n,o){var a,r;if(e!==n){var i=L.currentScriplet;if(i){var l=i.getNode(e);if(l){var c=null===(a=l.schema)||void 0===a?void 0:a.inputSlots.find((function(e){return e.id===t}));if(c){var u=i.getNode(n);if(u){var s=null===(r=u.schema)||void 0===r?void 0:r.outputSlots.find((function(e){return e.id===o}));if(s){if(c.isCorrectType(s.type)&&c.isConnectable)if(this.checkGraphCycleExists(e,n)||this.checkFlowGraphCycleExists(e,n))console.error("Cycle detected from ".concat(e," to ").concat(n,"."));else{var d=l.getInputConnection(c.id);d&&this.deleteConnection(e,t,d.itemId,d.slotId),l.setInputConnection(c.id,n,o),u.setOutputConnection(s.id,e,t),i.updateNodes()}}else console.error("The output slot of id '".concat(o,"' from node item '").concat(n,"' could not be found."))}else console.error("The node item of id '".concat(n,"' could not be found."))}else console.error("The input slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}else console.error("When adding connections, the input item id cannot be the same as the output item id.")}},{key:"deleteConnection",value:function(e,t,n,o){var a,r,i=L.currentScriplet;if(i){var l=i.getNode(e);if(l)if(null===(a=l.schema)||void 0===a?void 0:a.inputSlots.find((function(e){return e.id===t}))){var c=i.getNode(n);if(c)(null===(r=c.schema)||void 0===r?void 0:r.outputSlots.find((function(e){return e.id===o})))?(l.deleteInputConnection(t),c.deleteOutputConnection(o,e,t),i.updateNodes()):console.error("The input slot of id '".concat(o,"' from node item '").concat(n,"' could not be found."));else console.error("The node item of id '".concat(n,"' could not be found."))}else console.error("The input slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."));else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"checkGraphCycleExists",value:function(e,t){var n=L.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),!0;var o=n.getNode(t);if(!o)return console.error("The node item of id '".concat(t,"' could not be found.")),!0;if(o.inputSlots.length<=0)return!1;if(o.inputSlots.some((function(t){return t.itemId===e})))return!0;for(var a=!1,r=0;r<o.inputSlots.length;r++){var i=o.inputSlots[r];if(i){var l=i.itemId;if(a=this.checkGraphCycleExists(e,l))break}}return a}},{key:"getInputFlowSlot",value:function(e,t){var n,o=L.currentScriplet;if(o){var a=o.getNode(e);if(a){var r=null===(n=a.schema)||void 0===n?void 0:n.inputFlowSlots.find((function(e){return e.id===t}));if(r)return r;console.error("The input flow slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"getInputFlowSlots",value:function(e){var t,n=L.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),[];var o=n.getNode(e);if(!o)return console.error("The node item of id '".concat(e,"' could not be found.")),[];var a=null===(t=o.schema)||void 0===t?void 0:t.inputFlowSlots;return a||(console.error("The schema of node item '".concat(e,"' could not be found.")),[])}},{key:"getInputFlowConnections",value:function(e){var t=L.currentScriplet;if(!t)return console.error("The current scriplet could not be found."),[];var n=t.getNode(e);return n?n.inputFlowSlots:(console.error("The node item of id '".concat(e,"' could not be found.")),[])}},{key:"getOutputFlowSlot",value:function(e,t){var n,o=L.currentScriplet;if(o){var a=o.getNode(e);if(a){var r=null===(n=a.schema)||void 0===n?void 0:n.outputFlowSlots.find((function(e){return e.id===t}));if(r)return r;console.error("The input flow slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"getOutputFlowSlots",value:function(e){var t,n=L.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),[];var o=n.getNode(e);if(!o)return console.error("The node item of id '".concat(e,"' could not be found.")),[];var a=null===(t=o.schema)||void 0===t?void 0:t.outputFlowSlots;return a||(console.error("The schema of node item '".concat(e,"' could not be found.")),[])}},{key:"getOutputFlowConnections",value:function(e){var t=L.currentScriplet;if(!t)return console.error("The current scriplet could not be found."),[];var n=t.getNode(e);return n?n.outputFlowSlots:(console.error("The node item of id '".concat(e,"' could not be found.")),[])}},{key:"addFlowConnection",value:function(e,t,n,o){var a,r;if(e!==n){var i=L.currentScriplet;if(i){var l=i.getNode(e);if(l){var c=null===(a=l.schema)||void 0===a?void 0:a.inputFlowSlots.find((function(e){return e.id===t}));if(c){var u=i.getNode(n);if(u){var s=null===(r=u.schema)||void 0===r?void 0:r.outputFlowSlots.find((function(e){return e.id===o}));if(s){if(c.isConnectable)if(this.checkFlowGraphCycleExists(e,n)||this.checkGraphCycleExists(e,n))console.error("Cycle detected from ".concat(e," to ").concat(n,"."));else{var d=l.getInputFlowConnection(t);d&&this.deleteFlowConnection(e,t,d.itemId,d.slotId),l.setInputFlowConnection(c.id,n,o);var h=u.getOutputFlowConnection(o);h&&this.deleteFlowConnection(h.itemId,h.slotId,n,o),u.setOutputFlowConnection(s.id,e,t),i.updateNodes()}}else console.error("The input flow slot of id '".concat(o,"' from node item '").concat(n,"' could not be found."))}else console.error("The node item of id '".concat(n,"' could not be found."))}else console.error("The input flow slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}else console.error("When adding connections, the input item id cannot be the same as the output item id.")}},{key:"deleteFlowConnection",value:function(e,t,n,o){var a,r,i=L.currentScriplet;if(i){var l=i.getNode(e);if(l)if(null===(a=l.schema)||void 0===a?void 0:a.inputFlowSlots.find((function(e){return e.id===t}))){var c=i.getNode(n);if(c)(null===(r=c.schema)||void 0===r?void 0:r.outputFlowSlots.find((function(e){return e.id===o})))?(l.deleteInputFlowConnection(t),c.deleteOutputFlowConnection(o),i.updateNodes()):console.error("The input flow slot of id '".concat(o,"' from node item '").concat(n,"' could not be found."));else console.error("The node item of id '".concat(n,"' could not be found."))}else console.error("The input flow slot of id '".concat(t,"' from node item '").concat(e,"' could not be found."));else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}},{key:"checkFlowGraphCycleExists",value:function(e,t){var n=L.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),!0;var o=n.getNode(t);if(!o)return console.error("The node item of id '".concat(t,"' could not be found.")),!0;if(o.inputFlowSlots.length<=0)return!1;if(o.inputFlowSlots.some((function(t){return t.itemId===e})))return!0;for(var a=!1,r=0;r<o.inputFlowSlots.length;r++){var i=o.inputFlowSlots[r];if(i){var l=i.itemId;if(a=this.checkGraphCycleExists(e,l))break}}return a}},{key:"deleteAllConnections",value:function(e){var t=this,n=L.currentScriplet;if(!n)return console.error("The current scriplet could not be found."),!1;var o=n.getNode(e);return o?(o.outputSlots.forEach((function(n){n.forEach((function(n){t.deleteConnection(n.itemId,n.slotId,e,n.id)}))})),o.inputSlots.forEach((function(n){n&&t.deleteConnection(e,n.id,n.itemId,n.slotId)})),o.inputFlowSlots.forEach((function(n){n&&t.deleteFlowConnection(e,n.id,n.itemId,n.slotId)})),o.outputFlowSlots.forEach((function(n){n&&t.deleteFlowConnection(n.itemId,n.slotId,e,n.id)})),!0):(console.error("The node item of id '".concat(e,"' could not be found.")),!1)}}]),e}()),G=function e(t,n){Object(s.a)(this,e),this.id=void 0,this.name=void 0,this.id=t,this.name=n},B=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e,o,a){var r;return Object(s.a)(this,n),(r=t.call(this,e,a)).type=void 0,r.type=o,r}return Object(d.a)(n,[{key:"isCorrectType",value:function(e){return this.type===e}}]),n}(G),H=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e,o,a,r,i){var l;return Object(s.a)(this,n),(l=t.call(this,e,o,i)).defaultValue=void 0,l.isConnectable=void 0,l.defaultValue=a,l.isConnectable=null===r||void 0===r||r,l}return Object(d.a)(n,[{key:"getValue",value:function(e){var t,n=L.currentScriplet;if(n){var o=n.getNode(e);if(o){var a=o.getInputConnection(this.id);if(!a)return null!==(t=o.value)&&void 0!==t?t:this.defaultValue;var r,i=A.getOutputSlot(a.itemId,a.slotId);return i?i.evaluate():(console.error("The output slot '".concat(a.slotId,"' of node item '").concat(a.itemId,"' could not be found.")),null!==(r=o.value)&&void 0!==r?r:this.defaultValue)}console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}}]),n}(B),z=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e,o,a,r){var i;return Object(s.a)(this,n),(i=t.call(this,e,o,r)).evaluate=void 0,i.evaluate=a,i}return n}(B),K=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return n}(G),X=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e,o,a,r){var i;return Object(s.a)(this,n),(i=t.call(this,e,r)).isConnectable=void 0,i.evaluate=void 0,i.returnToSlot=void 0,i.evaluate=o,i.isConnectable=null===a||void 0===a||a,i}return Object(d.a)(n,[{key:"evaluateSlot",value:function(e){this.evaluate(this,e)}}]),n}(K),q=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"goNext",value:function(e,t){var n=L.currentScriplet;if(n){var o=n.getNode(e);if(o){var a=o.getOutputFlowConnection(this.id);if(a){var r=A.getInputFlowSlot(a.itemId,a.slotId);return r?void r.evaluateSlot(t):void console.error("The input flow slot '".concat(a.slotId,"' of node item '").concat(a.itemId,"' could not be found."))}if(t){var i=A.getInputFlowSlot(t.itemId,t.slotId);return i?void i.evaluateSlot():void console.error("The input flow slot '".concat(t.slotId,"' of node item '").concat(t.itemId,"' could not be found."))}}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet could not be found.")}}]),n}(K);var Q,Z,Y,$,U,_,J,ee,te,ne,oe,ae,re=function(e){return e}(C=function(e){return e}(C=function(e){return e}((I=O=function(){function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t}return Object(d.a)(e,null,[{key:"convertFromString",value:function(e){var t="^(-[1-9][0-9]*)|([0-9]+)$";if(e.match(t))return parseInt(e);console.error("The input doesn't match the regex '".concat(t,"'."))}},{key:"convertToString",value:function(e){return"".concat(e)}}]),e}(),O.className="Number",O.defaultValue=0,C=I))||C)||C)||C,ie=(function(e){}(N=function(e){return e}(N=function(e){return e}((k=E=function(){function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t}return Object(d.a)(e,null,[{key:"convertFromString",value:function(e){return e}},{key:"convertToString",value:function(e){return e}}]),e}(),E.className="String",E.defaultValue="",N=k))||N)||N),function(e){return e}(j=function(e){return e}(j=function(e){return e}((F=T=function(){function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t}return Object(d.a)(e,null,[{key:"convertFromString",value:function(e){return"true"===e}},{key:"convertToString",value:function(e){return"".concat(e)}}]),e}(),T.className="Boolean",T.defaultValue=!1,j=F))||j)||j)||j),le=function(e){return e}(M=function(e){return e}(M=function(e){return e}((V=D=function(){function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t}return Object(d.a)(e,null,[{key:"convertFromString",value:function(e){if(e.match("^([0-9]+)$"))return parseInt(e);console.error("The input doesn't match the regex '".concat("^([0-9]+)$","'."))}},{key:"convertToString",value:function(e){return"".concat(e)}}]),e}(),D.className="Flow",D.defaultValue=-1,M=V))||M)||M)||M,ce=(function(e){}(R=function(e){return e}((W=P=function e(t){Object(s.a)(this,e),this.value=void 0,this.value=t},P.className="Any",P.defaultValue=void 0,R=W))||R),n(35)),ue=new(function(){function e(){Object(s.a)(this,e),this.nodeSchemas=void 0,this.nodeSchemas=new Map}return Object(d.a)(e,[{key:"getNewSchema",value:function(e,t){var n=this.nodeSchemas.get(t);if(!n)throw new Error("The schema '".concat(t,"' could not be found."));return n.createNew(e)}},{key:"getBaseSchema",value:function(e){var t=this.nodeSchemas.get(e);if(!t)throw new Error("The schema '".concat(e,"' could not be found."));return t}},{key:"getBaseSchemas",value:function(){return Object(ce.a)(this.nodeSchemas.values())}}]),e}());function se(e){var t=e;function n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object(x.a)(e,n)}var o=function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n.apply(void 0,[t].concat(o))};o.prototype=t.prototype;var a=o();ue.nodeSchemas.set(a.id,a.createNew(-1))}!function(e){e.Start="Hidden/Start",e.IfElse="Base/ControlFlow/IfElse",e.ForLoop="Base/ControlFlow/ForLoop",e.WhileLoop="Base/ControlFlow/WhileLoop",e.Input="Hidden/Input",e.Output="Hidden/Output",e.Print="Base/Debug/Print",e.AddNumbers="Base/Math/AddNumbers",e.SubtractNumbers="Base/Math/SubtractNumbers",e.MultiplyNumbers="Base/Math/MultiplyNumbers",e.DivideNumbers="Base/Math/DivideNumbers"}(ae||(ae={}));var de=function(){function e(t,n,o,a,r,i,l,c){var u=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];Object(s.a)(this,e),this.id=void 0,this.name=void 0,this.uniqueNamePrefix=void 0,this.width=void 0,this.inputFlowSlots=void 0,this.outputFlowSlots=void 0,this.inputSlots=void 0,this.outputSlots=void 0,this.isDeletable=void 0,this.itemId=-1,this.id=t,this.name=n,this.uniqueNamePrefix=o,this.width=a,this.inputFlowSlots=r,this.outputFlowSlots=i,this.inputSlots=l,this.outputSlots=c,this.isDeletable=u}return Object(d.a)(e,[{key:"maxLength",value:function(){return Math.max(this.inputFlowSlots.length+this.inputSlots.length,this.outputFlowSlots.length+this.outputSlots.length)}},{key:"createNew",value:function(e){var t=this.createNewSchema();return t.itemId=e,t}}]),e}(),he=(se(Q=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.Start,a=new q(0,"Body"),r=[a],i=[new X(0,(function(){a.goNext(e.itemId)}),!1," ")];return e=t.call(this,o,"Start","start",120,i,r,[],[],!1)}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(Z=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.IfElse,a=new H(1,ie.className,ie.defaultValue,!0,"Condition"),r=[a],i=new q(0,"True"),l=new q(1,"False"),c=[i,l],u=[new X(0,(function(t,n){!0===a.getValue(e.itemId)?i.goNext(e.itemId,n):l.goNext(e.itemId,n)}),!0,"Entry")];return e=t.call(this,o,"If/Else","ifElse",220,u,c,r,[])}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(Y=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.ForLoop,a=new q(0,"Body"),r=new q(1,"Exit"),i=[a,r],l=new H(1,re.className,re.defaultValue,!0,"Start"),c=new H(2,re.className,10,!0,"End"),u=new H(3,re.className,1,!0,"Increment"),d=[l,c,u],h=[new z(2,re.className,(function(){var t;return e.index-(null!==(t=e.increment)&&void 0!==t?t:1)}),"Index")],f=[new X(0,(function(t,n){var o,i;(t.returnToSlot||(t.returnToSlot=n),null==e.start||null==e.end||null==e.increment)&&(e.start=l.getValue(e.itemId),e.end=c.getValue(e.itemId),e.increment=u.getValue(e.itemId),e.index=null!==(i=e.start)&&void 0!==i?i:0);if(e.index<(null!==(o=e.end)&&void 0!==o?o:0)){var s;e.index+=null!==(s=e.increment)&&void 0!==s?s:1,a.goNext(e.itemId,{id:-1,itemId:e.itemId,slotId:t.id})}else{var d=t.returnToSlot;t.returnToSlot=void 0,e.index=0,e.start=void 0,e.end=void 0,r.goNext(e.itemId,d)}}),!0,"Entry")];return(e=t.call(this,o,"For Loop","forLoop",200,f,i,d,h)).start=void 0,e.end=void 0,e.increment=void 0,e.index=void 0,e.index=0,e}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se($=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.WhileLoop,a=new q(0,"Body"),r=new q(1,"Exit"),i=[a,r],l=new H(1,ie.className,ie.defaultValue,!0,"Condition"),c=new H(2,re.className,1e4,!0,"Limit"),u=[l,c],d=[new X(0,(function(t,n){if(t.returnToSlot||(t.returnToSlot=n),null==e.limit&&(e.limit=c.getValue(e.itemId)),null==e.limit&&console.error("The limit of while loop of id '".concat(e.itemId,"' is undefined, therefore this while loop won't run. Set it to 0 if it is intended to run forever.")),l.getValue(e.itemId)&&null!=e.limit&&e.counter<(e.limit<=0?1:e.limit))e.limit>0&&(e.counter+=1),a.goNext(e.itemId,{id:-1,itemId:e.itemId,slotId:t.id});else{var o=t.returnToSlot;t.returnToSlot=void 0,e.counter=0,e.limit=void 0,r.goNext(e.itemId,o)}}),!0,"Entry")];return(e=t.call(this,o,"While Loop","whileLoop",200,d,i,u,[])).limit=void 0,e.counter=void 0,e.counter=0,e}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(U=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.Input,a=new H(0,re.className,re.defaultValue,!1),r=[a],i=[new z(0,re.className,(function(){return a.getValue(e.itemId)}))];return e=t.call(this,o,"Input","input",190,[],[],r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(_=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){Object(s.a)(this,n);var e=ae.Output,o=[new H(0,re.className,re.defaultValue)];return t.call(this,e,"Output","output",120,[],[],o,[])}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(J=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.Print,a=new H(1,re.className,re.defaultValue),r=[a],i=[new z(1,re.className,(function(){return a.getValue(e.itemId)}))],l=new q(0,"Exit"),c=[l],u=[new X(0,(function(t,n){console.log(a.getValue(e.itemId)),l.goNext(e.itemId,n)}),!0,"Entry")];return e=t.call(this,o,"Print","print",205,u,c,r,i)}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(ee=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.AddNumbers,a=new H(0,re.className,re.defaultValue),r=new H(1,re.className,re.defaultValue),i=[a,r],l=[new z(0,re.className,(function(){return a.getValue(e.itemId)+r.getValue(e.itemId)}),"Sum")];return e=t.call(this,o,"Add Numbers","addNums",200,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(te=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.SubtractNumbers,a=new H(0,re.className,re.defaultValue),r=new H(1,re.className,re.defaultValue),i=[a,r],l=[new z(0,re.className,(function(){return a.getValue(e.itemId)-r.getValue(e.itemId)}),"Difference")];return e=t.call(this,o,"Subtract Numbers","subtractNums",220,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(ne=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.MultiplyNumbers,a=new H(0,re.className,re.defaultValue),r=new H(1,re.className,re.defaultValue),i=[a,r],l=[new z(0,re.className,(function(){return a.getValue(e.itemId)*r.getValue(e.itemId)}),"Product")];return e=t.call(this,o,"Multiply Numbers","multiplyNums",210,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),se(oe=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);var o=ae.DivideNumbers,a=new H(0,re.className,re.defaultValue),r=new H(1,re.className,1),i=[a,r],l=[new z(0,re.className,(function(){var t;return a.getValue(e.itemId)/(null!==(t=r.getValue(e.itemId))&&void 0!==t?t:1)}),"Quotient")];return e=t.call(this,o,"Divide Numbers","divideNums",210,[],[],i,l)}return Object(d.a)(n,[{key:"createNewSchema",value:function(){return new n}}]),n}(de)),new(function(){function e(){Object(s.a)(this,e),this.typeCount=void 0,this.typeCount=new Map}return Object(d.a)(e,[{key:"getNextVariableName",value:function(e){var t=ue.getBaseSchema(e);if(t){var n=this.typeCount.get(e);return null==n?(this.typeCount.set(e,1),n=1):this.typeCount.set(e,n+1),"".concat(t.uniqueNamePrefix).concat(n)}console.error("The schema of id '".concat(e,"' could not be found."))}}]),e}())),fe=function(){function e(t,n,o,a,r,i,l,c,u,d){var h;Object(s.a)(this,e),this.id=void 0,this.customName=void 0,this.value=void 0,this.x=void 0,this.y=void 0,this.schemaId=void 0,this.inputSlots=void 0,this.inputFlowSlots=void 0,this.outputSlots=void 0,this.outputFlowSlots=void 0,this.variableName=void 0,this.schema=void 0,this.id=t,this.x=n,this.y=o,this.schemaId=a,this.inputSlots=r,this.inputFlowSlots=i,this.outputSlots=l,this.outputFlowSlots=c,u&&(this.customName=u),d&&(this.value=d),this.variableName=null!==(h=he.getNextVariableName(a))&&void 0!==h?h:"undefined",this.schema=ue.getNewSchema(t,a),Object.defineProperties(this,{variableName:{enumerable:!1,writable:!0},schema:{enumerable:!1,writable:!0}})}return Object(d.a)(e,[{key:"getInputConnection",value:function(e){var t=this.inputSlots.filter((function(t){return t.id===e}));if(t.length>1&&console.error("Input slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will return the first connection found.")),!(t.length<1))return t[0]}},{key:"setInputConnection",value:function(e,t,n){var o=this.inputSlots.filter((function(t){return t.id===e}));if(o.length>1&&console.error("Input slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will replace the first connection found.")),o.length<1)this.inputSlots.push({id:e,itemId:t,slotId:n});else{var a=o[0];a.itemId=t,a.slotId=n}}},{key:"deleteInputConnection",value:function(e){this.inputSlots=this.inputSlots.filter((function(t){return t.id!==e}))}},{key:"getOutputConnections",value:function(e){var t=this.outputSlots.get(e);return t||[]}},{key:"setOutputConnection",value:function(e,t,n){var o=this.outputSlots.get(e);o?o.find((function(o){return o.id===e&&o.itemId===t&&o.slotId===n}))?console.error("The connection '".concat(t,", ").concat(n,"' is already connected to node item slot '").concat(this.id,", ").concat(e,"'. Something in the code may have caused this duplication.")):o.push({id:e,itemId:t,slotId:n}):this.outputSlots.set(e,[{id:e,itemId:t,slotId:n}])}},{key:"deleteOutputConnection",value:function(e,t,n){var o=this.outputSlots.get(e);o&&(o=o.filter((function(o){return o.id!==e&&o.itemId!==t&&o.slotId!==n})),this.outputSlots.set(e,o))}},{key:"getInputFlowConnection",value:function(e){var t=this.inputFlowSlots.filter((function(t){return t.id===e}));if(t.length>1&&console.error("Input flow slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will return the first connection found.")),!(t.length<1))return t[0]}},{key:"setInputFlowConnection",value:function(e,t,n){var o=this.inputFlowSlots.filter((function(t){return t.id===e}));if(o.length>1&&console.error("Input flow slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will replace the first connection found.")),o.length<1)this.inputFlowSlots.push({id:e,itemId:t,slotId:n});else{var a=o[0];a.itemId=t,a.slotId=n}}},{key:"deleteInputFlowConnection",value:function(e){this.inputFlowSlots=this.inputFlowSlots.filter((function(t){return t.id!==e}))}},{key:"getOutputFlowConnection",value:function(e){var t=this.outputFlowSlots.filter((function(t){return t.id===e}));if(t.length>1&&console.error("Output flow slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will return the first connection found.")),!(t.length<1))return t[0]}},{key:"setOutputFlowConnection",value:function(e,t,n){var o=this.outputFlowSlots.filter((function(t){return t.id===e}));if(o.length>1&&console.error("Output flow slot '".concat(e,"' of node item '").concat(this.id,"' can only have 1 connection. Will replace the first connection found.")),o.length<1)this.outputFlowSlots.push({id:e,itemId:t,slotId:n});else{var a=o[0];a.itemId=t,a.slotId=n}}},{key:"deleteOutputFlowConnection",value:function(e){this.outputFlowSlots=this.outputFlowSlots.filter((function(t){return t.id!==e}))}}]),e}(),pe=function(){function e(t){Object(s.a)(this,e),this.id=void 0,this.name=void 0,this.start=void 0,this.items=void 0,this.itemCounter=void 0,this.id=0,this.itemCounter=1,this.name=t,this.items=new Map,this.start={id:0,x:0,y:0,schemaId:ae.Start,inputSlots:[],inputFlowSlots:[],outputSlots:new Map,outputFlowSlots:[]},this.items.set(0,this.start)}return Object(d.a)(e,[{key:"addNode",value:function(e,t,n,o,a,r,i,l,c){this.addNodes(!1,{x:e,y:t,schemaId:n,inputSlots:o,inputFlowSlots:a,outputSlots:r,outputFlowSlots:i,customName:l,value:c})}},{key:"addNodes",value:function(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];o.forEach((function(e){var n=t.itemCounter++;t.items.set(n,{id:n,x:e.x,y:e.y,schemaId:e.schemaId,inputSlots:e.inputSlots,inputFlowSlots:e.inputFlowSlots,outputSlots:e.outputSlots,outputFlowSlots:e.outputFlowSlots,customName:e.customName,value:e.value})})),me.updateScriplet(this.id,{items:this.items,itemCounter:this.itemCounter}).then((function(t){t&&e&&window.location.reload()}))}},{key:"getStart",value:function(){if(!this.start.schema){var e=new fe(this.start.id,this.start.x,this.start.y,this.start.schemaId,this.start.inputSlots,this.start.inputFlowSlots,this.start.outputSlots,this.start.outputFlowSlots,this.start.customName,this.start.value);return this.start=e,e}return this.start}},{key:"getNode",value:function(e){var t=this.items.get(e);if(t)return this.convertToNodeItem(t)}},{key:"getNodes",value:function(){var e=this,t=[];return this.items.forEach((function(n){t.push(e.convertToNodeItem(n))})),t}},{key:"convertToNodeItem",value:function(e){if(!e.schema){var t=new fe(e.id,e.x,e.y,e.schemaId,e.inputSlots,e.inputFlowSlots,e.outputSlots,e.outputFlowSlots,e.customName,e.value);return this.items.set(e.id,t),t}return e}},{key:"updateNodes",value:function(){me.updateScriplet(this.id,{items:this.items})}},{key:"deleteNode",value:function(e){return this.deleteNodes(e)}},{key:"deleteNodes",value:function(){for(var e=this,t=!0,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.forEach((function(n){e.items.delete(n)||(t=!1)})),me.updateScriplet(this.id,{items:this.items}),t}}]),e}(),me=new(function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this,"VisualScriptingDB")).scriplets=void 0,e.version(1).stores({scriplets:"++id, name"}),e.open().catch((function(t){console.error("Opening the db '".concat(e.name,"' failed: ").concat(t))})),e.scriplets=e.table("scriplets"),e.scriplets.mapToClass(pe),e.seedData(),e}return Object(d.a)(n,[{key:"seedData",value:function(){var e=this;this.scriplets.toArray().then((function(t){t.length<=0&&e.addScriplet("Test").then((function(e){e.addNodes(!0,{x:0,y:100,schemaId:ae.Input,inputSlots:[],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:2,slotId:1}]]]),outputFlowSlots:[]},{x:250,y:100,schemaId:ae.SubtractNumbers,inputSlots:[{id:1,itemId:1,slotId:0}],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:4,slotId:0},{id:0,itemId:3,slotId:1}]]]),outputFlowSlots:[]},{x:500,y:250,schemaId:ae.Print,inputSlots:[{id:1,itemId:2,slotId:0}],inputFlowSlots:[],outputSlots:new Map([[1,[{id:1,itemId:4,slotId:1}]]]),outputFlowSlots:[]},{x:750,y:100,schemaId:ae.MultiplyNumbers,inputSlots:[{id:0,itemId:2,slotId:0},{id:1,itemId:3,slotId:1}],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:5,slotId:0},{id:0,itemId:7,slotId:0}]]]),outputFlowSlots:[]},{x:1e3,y:100,schemaId:ae.Output,inputSlots:[{id:0,itemId:4,slotId:0}],inputFlowSlots:[],outputSlots:new Map,outputFlowSlots:[]},{x:750,y:350,schemaId:ae.Input,inputSlots:[],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:7,slotId:1}]]]),outputFlowSlots:[]},{x:1e3,y:300,schemaId:ae.AddNumbers,inputSlots:[{id:0,itemId:4,slotId:0},{id:1,itemId:6,slotId:0}],inputFlowSlots:[],outputSlots:new Map([[0,[{id:0,itemId:8,slotId:0}]]]),outputFlowSlots:[]},{x:1250,y:300,schemaId:ae.Output,inputSlots:[{id:0,itemId:7,slotId:0}],inputFlowSlots:[],outputSlots:new Map,outputFlowSlots:[]})}))}))}},{key:"getScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getScriplets",value:function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new pe(t),e.next=3,this.scriplets.add(n);case 3:return o=e.sent,n.id=o,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.update(t,n);case 2:if(0!==e.sent){e.next=6;break}return console.error("The scriplet of id '".concat(t,"' could not be found in the database; nothing was updated.")),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateEntireScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.where(":id").equals(t.id).modify((function(e,n){return n.value=t}));case 2:if(0!==e.sent){e.next=6;break}return console.error("The scriplet of id '".concat(t.id,"' could not be found in the database; nothing was updated.")),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteScriplet",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scriplets.delete(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(S.a)),ve=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={scriplets:[],isNavMenuOpen:!1,isSidebarOpen:!0},o.openNavMenu=o.openNavMenu.bind(Object(h.a)(o)),o.closeNavMenu=o.closeNavMenu.bind(Object(h.a)(o)),o.toggleNavMenu=o.toggleNavMenu.bind(Object(h.a)(o)),o.openSidebar=o.openSidebar.bind(Object(h.a)(o)),o.closeSidebar=o.closeSidebar.bind(Object(h.a)(o)),o.toggleSidebar=o.toggleSidebar.bind(Object(h.a)(o)),o.handleOnScripletCreate=o.handleOnScripletCreate.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;me.getScriplets().then((function(t){e.setState({scriplets:t})}))}},{key:"openNavMenu",value:function(){this.setState({isNavMenuOpen:!0})}},{key:"closeNavMenu",value:function(){this.setState({isNavMenuOpen:!1})}},{key:"toggleNavMenu",value:function(){this.state.isNavMenuOpen?this.closeNavMenu():this.openNavMenu()}},{key:"openSidebar",value:function(){this.setState({isSidebarOpen:!0})}},{key:"closeSidebar",value:function(){this.setState({isSidebarOpen:!1})}},{key:"toggleSidebar",value:function(){this.state.isSidebarOpen?this.closeSidebar():this.openSidebar()}},{key:"handleOnScripletCreate",value:function(e){return!!e}},{key:"render",value:function(){var e=this,t=this.state.scriplets;return a.a.createElement("nav",{className:"nav"},a.a.createElement("div",{className:"topbar"},a.a.createElement("div",{className:"lg:hidden flex items-center justify-between p-4 bg-gray-800"},a.a.createElement("div",{className:""},a.a.createElement(v.b,{to:"/",className:"text-xl text-gray-100 font-semibold"},a.a.createElement(m.a,{className:"mr-4 text-2xl text-indigo-500",icon:"project-diagram"}),"Visual Scripting")),a.a.createElement("div",{className:"block"},a.a.createElement("button",{className:"flex items-center py-2 px-3 text-indigo-500 rounded border border-indigo-500 hover:bg-indigo-300",onClick:this.toggleNavMenu},a.a.createElement(m.a,{icon:"bars"})))),a.a.createElement("div",{className:"".concat(this.state.isNavMenuOpen?"":"hidden"," lg:hidden relative z-20")},a.a.createElement("div",{className:"absolute w-full px-4 pb-4 bg-gray-800"},t.map((function(t,n){return a.a.createElement(v.b,{key:n,onClick:e.closeNavMenu,to:"/scriplet/"+t.id,className:"block mb-1 px-4 py-2 rounded-md hover:bg-gray-900 focus:bg-gray-900 text-gray-100"},a.a.createElement(m.a,{className:"mr-4 text-lg text-gray-600",icon:"folder"}),t.name)})),a.a.createElement("div",{className:"w-full mb-1 px-4 py-2 rounded-md border-gray-600 border-dashed border-2 cursor-pointer hover:bg-gray-900 focus:bg-gray-900 text-gray-500",onClick:function(){e.closeNavMenu()}},a.a.createElement(m.a,{className:"mr-4 text-lg text-gray-600",icon:"plus"}),a.a.createElement("span",{className:"font-medium"},"Add Scriplet"))))),a.a.createElement("div",null,a.a.createElement("div",{className:"".concat(this.state.isSidebarOpen?"sidebar shadow":"hidden")},a.a.createElement("div",{className:"flex-grow h-screen bg-gray-800 relative"},a.a.createElement("div",{className:"p-4 h-16"},a.a.createElement(v.b,{to:"/",className:"text-xl text-gray-100 font-semibold"},a.a.createElement(m.a,{className:"mr-4 text-2xl text-indigo-500",icon:"project-diagram"}),"Visual Scripting")),a.a.createElement("div",{className:"p-2 fixed top-16 bottom-0 my-auto lg:w-64"},a.a.createElement(b.a,{noScrollX:!0},t.map((function(t,n){return a.a.createElement(v.b,{key:n,onClick:e.closeNavMenu,to:"/scriplet/"+t.id,className:"block mb-1 px-4 py-2 rounded-md hover:bg-gray-900 focus:bg-gray-900 text-gray-100"},a.a.createElement(m.a,{className:"mr-4 text-lg text-gray-600",icon:"folder"}),t.name)})),a.a.createElement("div",{className:"w-full mb-1 px-4 py-2 rounded-md border-gray-600 border-dashed border-2 cursor-pointer hover:bg-gray-900 focus:bg-gray-900 text-gray-500",onClick:function(){}},a.a.createElement(m.a,{className:"mr-4 text-lg text-gray-600",icon:"plus"}),a.a.createElement("span",{className:"font-medium"},"Add Scriplet")))))),a.a.createElement("div",{className:"".concat(this.state.isSidebarOpen?"hidden":"collapsed-sidebar shadow")},a.a.createElement("div",{className:"flex-grow h-screen bg-gray-800 relative"},a.a.createElement("div",{className:"p-4 h-16 text-center"},a.a.createElement(v.b,{to:"/",className:"text-xl text-gray-100 font-semibold"},a.a.createElement(m.a,{className:"text-2xl text-indigo-500",icon:"project-diagram"}))),a.a.createElement("div",{className:"sidebar-items p-2 fixed top-16 bottom-0 my-auto"},a.a.createElement(b.a,{noScrollX:!0},t.map((function(t,n){return a.a.createElement(v.b,{key:n,onClick:e.closeNavMenu,to:"/scriplet/"+t.id,className:"block border-gray-700 border-solid border hover:border-opacity-0 mb-1 py-2 text-center rounded-md hover:bg-gray-900 focus:bg-gray-900 text-gray-100 font-bold"},t.name[0])})),a.a.createElement("div",{className:"flex mb-1 py-2 justify-center rounded-md border-gray-600 border-dashed border-2 cursor-pointer hover:bg-gray-900 focus:bg-gray-900 text-gray-500",onClick:function(){}},a.a.createElement("div",{className:"inline-block"},a.a.createElement(m.a,{className:"text-lg text-gray-600",icon:"plus"}))))))),a.a.createElement("button",{className:"".concat(this.state.isSidebarOpen?"w-64 ml-8 pl-56":"w-16 ml-8 pl-8"," sidebar-toggle items-center rounded-full bg-gray-700"),onClick:this.toggleSidebar},a.a.createElement("div",{className:"inline-block pl-2"},a.a.createElement(m.a,{icon:"chevron-left",className:"".concat(this.state.isSidebarOpen?"block":"hidden"," text-gray-300")}),a.a.createElement(m.a,{icon:"chevron-right",className:"".concat(this.state.isSidebarOpen?"hidden":"block"," text-gray-300")})))))}}]),n}(a.a.Component),be=n(5),ge=function e(){Object(s.a)(this,e)};ge.Gray={100:"#f7fafc",200:"#edf2f7",300:"#e2e8f0",400:"#cbd5e0",500:"#a0aec0",600:"#718096",700:"#4a5568",800:"#2d3748",900:"#1a202c"},ge.Red={100:"#fff5f5",200:"#fed7d7",300:"#feb2b2",400:"#fc8181",500:"#f56565",600:"#e53e3e",700:"#c53030",800:"#9b2c2c",900:"#742a2a"},ge.Orange={100:"#fffaf0",200:"#feebc8",300:"#fbd38d",400:"#f6ad55",500:"#ed8936",600:"#dd6b20",700:"#c05621",800:"#9c4221",900:"#7b341e"},ge.Yellow={100:"#fffff0",200:"#fefcbf",300:"#faf089",400:"#f6e05e",500:"#ecc94b",600:"#d69e2e",700:"#b7791f",800:"#975a16",900:"#744210"},ge.Green={100:"#f0fff4",200:"#c6f6d5",300:"#9ae6b4",400:"#68d391",500:"#48bb78",600:"#38a169",700:"#2f855a",800:"#276749",900:"#22543d"},ge.Teal={100:"#e6fffa",200:"#b2f5ea",300:"#81e6d9",400:"#4fd1c5",500:"#38b2ac",600:"#319795",700:"#2c7a7b",800:"#285e61",900:"#234e52"},ge.Blue={100:"#ebf8ff",200:"#bee3f8",300:"#90cdf4",400:"#63b3ed",500:"#4299e1",600:"#3182ce",700:"#2b6cb0",800:"#2c5282",900:"#2a4365"},ge.Indigo={100:"#ebf4ff",200:"#c3dafe",300:"#a3bffa",400:"#7f9cf5",500:"#667eea",600:"#5a67d8",700:"#4c51bf",800:"#434190",900:"#3c366b"},ge.Purple={100:"#faf5ff",200:"#e9d8fd",300:"#d6bcfa",400:"#b794f4",500:"#9f7aea",600:"#805ad5",700:"#6b46c1",800:"#553c9a",900:"#44337a"},ge.Pink={100:"#fff5f7",200:"#fed7e2",300:"#fbb6ce",400:"#f687b3",500:"#ed64a6",600:"#d53f8c",700:"#b83280",800:"#97266d",900:"#702459"};var ye=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,null,[{key:"setCursor",value:function(e,t){var n=e.target.getStage();n?n.container().style.cursor=t:console.error("The Konva stage could not be found.")}}]),e}(),we=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,null,[{key:"cancel",value:function(){Se.cancelInput(),Oe.cancelDropdown()}}]),e}(),Se=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={value:""},o.showInput=o.showInput.bind(Object(h.a)(o)),o.onHover=o.onHover.bind(Object(h.a)(o)),o.onHoverExit=o.onHoverExit.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"showInput",value:function(e){var t=this;n.cancelInput();var o=this.props,a=o.width,r=o.height,i=o.fontSize,l=o.padding,c=o.textColor,u=o.hoverColor,s=o.borderRadius,d=o.zIndex,h=o.type,f=o.onChange,p=""===this.state.value?this.props.value:this.state.value,m=e.target.getStage();if(m){var v=m.scaleX(),b=e.target.absolutePosition().y,g=e.target.absolutePosition().x,y=document.createElement("input");document.body.appendChild(y),y.value=p,y.type=h,y.style.position="absolute",y.style.top="".concat(b,"px"),y.style.left="".concat(g,"px"),y.style.width="".concat(Math.min(a*v,window.innerWidth-g),"px"),y.style.height="".concat(r*v,"px"),y.style.paddingLeft="".concat(l*v,"px"),y.style.fontSize="".concat(i*v,"px"),y.style.color=c,y.style.backgroundColor=u,y.style.borderRadius="".concat(s*v,"px"),y.style.zIndex="".concat(d),y.focus(),y.onchange=function(e){var o=e.target;return o?o.value?f(o.value)?(f(o.value),t.setState({value:o.value}),void n.cancelInput()):(console.error("Input value requirements not met."),void n.cancelInput()):(console.error("No value typed in while editing the text."),void n.cancelInput()):(console.error("Cannot cast target to 'HTMLInputElement'."),void n.cancelInput())},n.inputElement=y}else console.error("The Konva stage could not be found.")}},{key:"onHover",value:function(e){ye.setCursor(e,"text");var t=e.currentTarget.getLayer();t?(e.currentTarget.children[0].setAttr("fill",this.props.hoverColor),t.draw()):console.error("The Konva layer could not be found.")}},{key:"onHoverExit",value:function(e){ye.setCursor(e,"default");var t=e.currentTarget.getLayer();t?(e.currentTarget.children[0].setAttr("fill",this.props.bgColor),t.draw()):console.error("The Konva layer could not be found.")}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,o=t.y,r=t.width,i=t.height,l=t.fontSize,c=t.fontStyle,u=t.padding,s=t.textColor,d=t.bgColor,h=t.borderRadius,f=""===this.state.value?this.props.value:this.state.value;return a.a.createElement(be.Label,{name:"top-bar-label",x:n,y:o,onMouseEnter:this.onHover,onMouseLeave:this.onHoverExit,onClick:function(t){t.cancelBubble=!0,e.showInput(t)},onTap:function(t){t.cancelBubble=!0,e.showInput(t)}},a.a.createElement(be.Tag,{fill:d,cornerRadius:h}),a.a.createElement(be.Text,{name:"top-bar-text",width:r,height:i,fontStyle:c,fontSize:l,verticalAlign:"middle",padding:u,fill:s,text:f}))}}],[{key:"cancelInput",value:function(){var e,t=n.inputElement;t&&(t.onchange=null,null===(e=t.parentNode)||void 0===e||e.removeChild(t))}}]),n}(a.a.Component);Se.inputElement=void 0,Se.defaultProps={x:0,y:0,width:100,height:20,fontSize:12,fontStyle:"normal",padding:0,textColor:"#000000",bgColor:"#ffffff",hoverColor:"#cccccc",borderRadius:0,zIndex:0,value:"",type:"text",onChange:function(){return!1}};var xe,Ce,Oe=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={selectedIndex:0},o.showDropdown=o.showDropdown.bind(Object(h.a)(o)),o.onHover=o.onHover.bind(Object(h.a)(o)),o.onHoverExit=o.onHoverExit.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"showDropdown",value:function(e){var t=this;n.cancelDropdown();var o=this.props,a=o.width,r=o.height,i=o.padding,l=o.fontSize,c=o.textColor,u=o.hoverColor,s=o.borderRadius,d=o.zIndex,h=o.values,f=o.onChange,p=e.target.getStage();if(p){var m=p.scaleX(),v=e.target.absolutePosition().y,b=e.target.absolutePosition().x,g=document.createElement("select");document.body.appendChild(g),h.forEach((function(e){var t=document.createElement("option");t.value=e,t.innerText=e,g.add(t)})),g.selectedIndex=this.state.selectedIndex,g.style.position="absolute",g.style.top="".concat(v,"px"),g.style.left="".concat(b,"px"),g.style.width="".concat(Math.min(a*m,window.innerWidth-b),"px"),g.style.height="".concat(r*m,"px"),g.style.paddingLeft="".concat(i*m,"px"),g.style.fontSize="".concat(l*m,"px"),g.style.color=c,g.style.backgroundColor=u,g.style.borderRadius="".concat(s*m,"px"),g.style.zIndex="".concat(d),g.focus(),g.onchange=function(e){var o=e.target;return o?o.value?f(o.value)?(f(o.value),t.setState({selectedIndex:o.selectedIndex}),void n.cancelDropdown()):(console.error("Input value requirements not met."),void n.cancelDropdown()):(console.error("No value selected."),void n.cancelDropdown()):(console.error("Cannot cast target to 'HTMLSelectElement'."),void n.cancelDropdown())},n.dropdownElement=g}else console.error("The Konva stage could not be found.")}},{key:"onHover",value:function(e){ye.setCursor(e,"pointer");var t=e.currentTarget.getLayer();t?(e.currentTarget.children[0].setAttr("fill",this.props.hoverColor),t.draw()):console.error("The Konva layer could not be found.")}},{key:"onHoverExit",value:function(e){ye.setCursor(e,"default");var t=e.currentTarget.getLayer();t?(e.currentTarget.children[0].setAttr("fill",this.props.bgColor),t.draw()):console.error("The Konva layer could not be found.")}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,o=t.y,r=t.width,i=t.height,l=t.fontSize,c=t.fontStyle,u=t.padding,s=t.textColor,d=t.bgColor,h=t.borderRadius,f=t.values;return a.a.createElement(be.Label,{name:"top-bar-label",x:n,y:o,onMouseEnter:this.onHover,onMouseLeave:this.onHoverExit,onClick:function(t){t.cancelBubble=!0,e.showDropdown(t)},onTap:function(t){t.cancelBubble=!0,e.showDropdown(t)}},a.a.createElement(be.Tag,{fill:d,cornerRadius:h}),a.a.createElement(be.Text,{name:"top-bar-text",width:r,height:i,fontStyle:c,fontSize:l,verticalAlign:"middle",padding:u,fill:s,text:f[this.state.selectedIndex]}))}}],[{key:"cancelDropdown",value:function(){var e,t=n.dropdownElement;t&&(t.onchange=null,null===(e=t.parentNode)||void 0===e||e.removeChild(t))}}]),n}(a.a.Component);Oe.dropdownElement=void 0,Oe.defaultProps={x:0,y:0,width:100,height:20,fontSize:12,fontStyle:"normal",padding:0,textColor:"#000000",bgColor:"#ffffff",hoverColor:"#cccccc",borderRadius:0,zIndex:0,values:[],onChange:function(){return!1}},function(e){e[e.Circle=0]="Circle",e[e.Arrow=1]="Arrow"}(xe||(xe={})),function(e){e[e.None=0]="None",e[e.Input=1]="Input",e[e.Dropdown=2]="Dropdown"}(Ce||(Ce={}));var Ie=new(function(){function e(){Object(s.a)(this,e),this.configs=void 0,this.configs=new Map;var t={handleType:xe.Circle,handleBorderColor:ge.Green[700],handleFillColor:ge.Green[600],inputType:Ce.Input,defaultInputValue:"",initialValue:re.defaultValue,fromString:re.convertFromString,toString:re.convertToString},n={handleType:xe.Circle,handleBorderColor:ge.Purple[600],handleFillColor:ge.Purple[500],inputType:Ce.Dropdown,defaultInputValue:["true","false"],initialValue:ie.defaultValue,fromString:ie.convertFromString,toString:ie.convertToString},o={handleType:xe.Arrow,handleBorderColor:ge.Gray[500],handleFillColor:ge.Gray[100],inputType:Ce.None,defaultInputValue:"",initialValue:le.defaultValue,fromString:le.convertFromString,toString:le.convertToString};this.configs.set(re.className,t),this.configs.set(ie.className,n),this.configs.set(le.className,o)}return Object(d.a)(e,[{key:"getConfig",value:function(e){return this.configs.get(e)}}]),e}()),Ne=n(46),Ee=n.n(Ne),ke=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={startPosition:{x:0,y:0}},o.onDragStart=o.onDragStart.bind(Object(h.a)(o)),o.onDragMove=o.onDragMove.bind(Object(h.a)(o)),o.onDragEnd=o.onDragEnd.bind(Object(h.a)(o)),o.onMouseEnter=o.onMouseEnter.bind(Object(h.a)(o)),o.onMouseExit=o.onMouseExit.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"onDragStart",value:function(e){if(e.target.getLayer()){we.cancel();var t=e.target,o=t.parent;if(o){var a=t.getPosition(),r=a,i="M".concat(a.x," ").concat(a.y-2," L").concat(r.x," ").concat(r.y-2),l=new Ee.a.Path({data:i,stroke:ge.Gray[800],strokeWidth:4});o.add(l),n.path=l,this.setState({startPosition:a})}else console.error("This Konva node should be under a container node.")}else console.error("The Konva layer could not be found.")}},{key:"onDragMove",value:function(e){var t=this.props.isInput,o=this.state.startPosition;if(e.target.getLayer()){var a,r,i=e.target.getPosition();t?(a=i,r=o):(a=o,r=i);var l={x:(r.x-a.x)/2+a.x,y:(r.y-a.y)/2+a.y},c="M".concat(a.x," ").concat(a.y-2," Q").concat(a.x+30," ").concat(a.y-2," ").concat(l.x," ").concat(l.y-2," Q").concat(r.x-30," ").concat(r.y-2," ").concat(r.x," ").concat(r.y-2),u=n.path;u?u.data(c):console.error("The Konva path could not be found.")}else console.error("The Konva layer could not be found.")}},{key:"onDragEnd",value:function(e){var t=this.props,o=t.isInput,a=t.isFlow,r=t.itemId,i=t.onConnect,l=this.state.startPosition,c=e.target;c.position(l);var u=n.path;null!=u&&(u.destroy(),n.path=null);var s=c.getStage();if(s){s.draw();var d=s.getPointerPosition();if(d){var h=Math.floor(d.x),f=Math.floor(d.y),p=s.getAllIntersections({x:h,y:f});if(p&&!(p.length<=0)){var m,v,b=0,g=0;for(v=0;v<p.length;v++){var y=p[v],w=y.getAttr("data-type");if(w&&(o?"output"===w:"input"===w)){var S=y.getAttr("data-slot-type");if(S&&(a?"control"===S:"data"===S))if(b=y.getAttr("data-item-id"),g=y.getAttr("data-slot-id"),null!=b&&null!=g){if(r!==b){m=y;break}}else console.error("No attributes 'data-item-id' or 'data-slot-id' could be found from the element.")}}m&&i(b,g)}}else console.error("The Konva pointer position could not be found.")}else console.error("The Konva stage could not be found.")}},{key:"onMouseEnter",value:function(e){ye.setCursor(e,"pointer")}},{key:"onMouseExit",value:function(e){ye.setCursor(e,"default")}},{key:"render",value:function(){var e=this,t=this.props,n=t.fill,o=t.stroke,r=t.type,i=t.isInput,l=t.isFlow,c=t.itemId,u=t.slotId;return a.a.createElement(a.a.Fragment,null,r===xe.Circle&&a.a.createElement(be.Circle,{x:i?18:-18,y:18,radius:4,fill:n,stroke:o,strokeWidth:1,scale:{x:1.5,y:1.5},listening:!1})||r===xe.Arrow&&a.a.createElement(be.Path,{data:"M6.659,13.549L12.139,8.753C12.356,8.563 12.481,8.288 12.481,8C12.481,7.712 12.356,7.437 12.139,7.247L6.66,2.451C6.011,1.885 5,2.345 5,3.204L5,12.796C5,12.796 5,12.797 5,12.797C5,13.345 5.451,13.797 6,13.797C6.242,13.797 6.477,13.709 6.659,13.549Z",x:i?5:-31,y:6,fill:n,stroke:o,strokeWidth:1,scale:{x:1.5,y:1.5},listening:!1}),a.a.createElement(be.Circle,{"data-type":"".concat(i?"input":"output"),"data-slot-type":"".concat(l?"control":"data"),"data-item-id":c,"data-slot-id":u,x:i?18:-18,y:22,radius:15,fill:"transparent",draggable:!0,onDragStart:function(t){t.cancelBubble=!0,e.onDragStart(t)},onDragMove:function(t){t.cancelBubble=!0,e.onDragMove(t)},onDragEnd:function(t){t.cancelBubble=!0,e.onDragEnd(t)},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseExit}))}}]),n}(a.a.Component);ke.path=null;var je=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).label=void 0,o.type=void 0,o.label=a.a.createRef(),o.type=a.a.createRef(),o.state={labelWidth:100,typeWidth:100},o.onInputChanged=o.onInputChanged.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=null===(e=this.label.current)||void 0===e?void 0:e.width(),o=null===(t=this.type.current)||void 0===t?void 0:t.width();n&&o?this.setState({labelWidth:n,typeWidth:o}):console.error("The referenced Konva label or type text could not be found.")}},{key:"onInputChanged",value:function(e){var t=this.props,n=t.inputSlot,o=t.onInputChange,a=Ie.getConfig(n.type);if(!a)return console.error("Cannot find the input initial values for the given type '".concat(n.type,"'.")),!1;var r=a.fromString(e);return null!=r&&o(r)}},{key:"render",value:function(){var e,t,n=this.props,o=n.inputSlot,r=n.inputConnection,i=n.x,l=n.y,c=n.itemId,u=n.onConnect,s=this.state,d=s.labelWidth,h=s.typeWidth,f=Ie.getConfig(o.type);if(!f)return console.error("Cannot find the input initial values for the given type '".concat(o.type,"'.")),null;var p=null===(e=L.currentScriplet)||void 0===e?void 0:e.getNode(c);return p?a.a.createElement(be.Group,{x:i,y:l},a.a.createElement(be.Text,{ref:this.label,x:o.isConnectable?36:16,y:0,height:20,fontSize:12,fontStyle:"bold",verticalAlign:"bottom",fill:ge.Gray[100],text:o.name}),a.a.createElement(be.Text,{ref:this.type,x:o.isConnectable?36:16,y:20,height:20,fontSize:10,verticalAlign:"top",fill:ge.Gray[100],text:o.type}),!r&&(f.inputType===Ce.Input&&a.a.createElement(Se,{x:o.isConnectable?44+Math.max(d,h):24+Math.max(d,h),y:12,width:30,height:12,fontSize:10,padding:2,borderRadius:2,textColor:ge.Gray[100],bgColor:ge.Gray[700],hoverColor:ge.Gray[600],value:"".concat(null!==(t=p.value)&&void 0!==t?t:o.defaultValue),onChange:this.onInputChanged})||f.inputType===Ce.Dropdown&&a.a.createElement(Oe,{x:o.isConnectable?44+Math.max(d,h):24+Math.max(d,h),y:12,width:30,height:12,fontSize:10,padding:2,borderRadius:2,textColor:ge.Gray[100],bgColor:ge.Gray[700],hoverColor:ge.Gray[600],values:f.defaultInputValue,onChange:this.onInputChanged})),o.isConnectable&&a.a.createElement(ke,{fill:r?f.handleFillColor:"transparent",stroke:f.handleBorderColor,type:f.handleType,isInput:!0,isFlow:!1,itemId:c,slotId:o.id,onConnect:u})):(console.error("The node item of id '".concat(c,"' could not be found.")),null)}}]),n}(a.a.Component),Te=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).label=void 0,o.type=void 0,o.label=a.a.createRef(),o.type=a.a.createRef(),o.state={labelWidth:100,typeWidth:100},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=null===(e=this.label.current)||void 0===e?void 0:e.width(),o=null===(t=this.type.current)||void 0===t?void 0:t.width();n&&o?this.setState({labelWidth:n,typeWidth:o}):console.error("The referenced Konva label or type text could not be found.")}},{key:"render",value:function(){var e=this.props,t=e.outputSlot,n=e.outputConnections,o=e.x,r=e.y,i=e.itemId,l=e.onConnect,c=this.state,u=c.labelWidth,s=c.typeWidth,d=Ie.getConfig(t.type);return d?a.a.createElement(be.Group,{x:o,y:r},a.a.createElement(be.Text,{ref:this.label,x:0,y:0,offsetX:36+u,height:20,fontSize:12,fontStyle:"bold",align:"right",verticalAlign:"bottom",fill:ge.Gray[100],text:t.name}),a.a.createElement(be.Text,{ref:this.type,x:0,y:20,offsetX:36+s,height:20,fontSize:10,align:"right",verticalAlign:"top",fill:ge.Gray[100],text:t.type}),a.a.createElement(ke,{fill:n.length>0?d.handleFillColor:"transparent",stroke:d.handleBorderColor,type:d.handleType,isInput:!1,isFlow:!1,itemId:i,slotId:t.id,onConnect:l})):(console.error("Cannot find the input initial values for the given type '".concat(t.type,"'.")),null)}}]),n}(a.a.Component),Fe=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.inputFlowSlot,n=e.inputFlowConnection,o=e.x,r=e.y,i=e.itemId,l=e.onConnect;return a.a.createElement(be.Group,{x:o,y:r},a.a.createElement(be.Text,{x:t.isConnectable?36:16,y:0,height:40,fontSize:12,fontStyle:"bold",verticalAlign:"middle",fill:ge.Gray[100],text:t.name}),t.isConnectable&&a.a.createElement(ke,{fill:n?ge.Gray[100]:"transparent",stroke:ge.Gray[500],type:xe.Arrow,isInput:!0,isFlow:!0,itemId:i,slotId:t.id,onConnect:l}))}}]),n}(a.a.Component),Me=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).label=void 0,o.label=a.a.createRef(),o.state={labelWidth:100},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t=null===(e=this.label.current)||void 0===e?void 0:e.width();t?this.setState({labelWidth:t}):console.error("The referenced Konva label text could not be found.")}},{key:"render",value:function(){var e=this.props,t=e.outputFlowSlot,n=e.outputFlowConnection,o=e.x,r=e.y,i=e.itemId,l=e.onConnect,c=this.state.labelWidth;return a.a.createElement(be.Group,{x:o,y:r},a.a.createElement(be.Text,{ref:this.label,x:0,y:0,offsetX:36+c,height:40,fontSize:12,fontStyle:"bold",align:"right",verticalAlign:"middle",fill:ge.Gray[100],text:t.name}),a.a.createElement(ke,{fill:n?ge.Gray[100]:"transparent",stroke:ge.Gray[500],type:xe.Arrow,isInput:!1,isFlow:!0,itemId:i,slotId:t.id,onConnect:l}))}}]),n}(a.a.Component),De=(n(134),n(135),function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).group=void 0,o.group=a.a.createRef(),o.state={draggedHandlePath:null,isStateOpen:!1,stateVisual:null},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e;null===(e=this.group.current)||void 0===e||e.getLayer()}},{key:"render",value:function(){var e,t,n,o,r,i,l=this.props,c=l.item,u=l.width,s=l.rowHeight,d=l.topBarHeight,h=l.handleDragNode,f=l.deleteNodeItem,p=l.updateDOM,m=c.schema?c.schema.maxLength()*s+d:0,v=c.schema;if(!v)return console.error("The schema for node item '".concat(c.id,"' could not be found.")),null;var b=v.inputSlots,g=v.outputSlots,y=v.inputFlowSlots,w=v.outputFlowSlots,S=[];S=S.concat(y,b);var x=[];x=x.concat(w,g);var C=function(e){return!!e.type},O=function(e){return!!e.type};return a.a.createElement(be.Group,{id:"node-".concat(c.id),ref:this.group,x:c.x,y:c.y,width:u,height:m,draggable:!0,onDragStart:function(e){ye.setCursor(e,"move"),we.cancel()},onDragEnd:function(e){var t;ye.setCursor(e,"default"),null===(t=L.currentScriplet)||void 0===t||t.updateNodes()},onDragMove:function(e){return h(c.id,e.target.x(),e.target.y())}},a.a.createElement(be.Rect,{name:"background",x:0,y:0,width:u,height:m+10,fill:ge.Gray[900],cornerRadius:5}),a.a.createElement(be.Rect,{name:"top-bar",x:0,y:0,width:u,height:d,fill:ge.Gray[900],cornerRadius:[5,5,0,0]}),a.a.createElement(Se,{x:10,y:2.5,width:v.isDeletable?u-40:u-20,height:d-5,borderRadius:2,padding:6,textColor:ge.Gray[100],bgColor:ge.Gray[900],hoverColor:ge.Gray[800],value:c.customName&&""!==c.customName?c.customName:null!==(e=null===(t=c.schema)||void 0===t?void 0:t.name)&&void 0!==e?e:"undefined",onChange:function(e){return c.customName=e,p(),!0}}),v.isDeletable&&a.a.createElement(be.Label,{x:u-20,y:8,onMouseEnter:function(e){e.cancelBubble=!0,ye.setCursor(e,"pointer")},onMouseLeave:function(e){e.cancelBubble=!0,ye.setCursor(e,"default")},onClick:function(e){ye.setCursor(e,"default"),we.cancel(),f(c.id)}},a.a.createElement(be.Tag,{fill:ge.Red[500],cornerRadius:15}),a.a.createElement(be.Text,{width:12,height:12,fontSize:14,fontStyle:"bold",align:"center",verticalAlign:"center",fill:ge.Gray[900],text:"\xd7"})),a.a.createElement(be.Rect,{x:0,y:d,width:u,height:s*(null!==(n=null===(o=c.schema)||void 0===o?void 0:o.maxLength())&&void 0!==n?n:1),fill:ge.Gray[800]}),Array.from(Array(null!==(r=null===(i=c.schema)||void 0===i?void 0:i.maxLength())&&void 0!==r?r:0)).map((function(e,t){var n=t<S.length&&C(S[t])?S[t]:void 0,o=t<x.length&&O(x[t])?x[t]:void 0;n&&null==n.name&&(n.name="Input".concat(t)),o&&null==o.name&&(o.name="Output".concat(t));var r=t<S.length&&!C(S[t])?S[t]:void 0,i=t<x.length&&!O(x[t])?x[t]:void 0;return r&&null==r.name&&(r.name="Flow".concat(t)),i&&null==i.name&&(i.name="Flow".concat(t)),a.a.createElement(a.a.Fragment,{key:"node-slot-".concat(c.id,"-").concat(t)},null!=n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(je,{inputSlot:n,inputConnection:c.getInputConnection(n.id),x:0,y:d+t*s,itemId:c.id,onInputChange:function(e){var t;return c.value=e,null===(t=L.currentScriplet)||void 0===t||t.updateNodes(),!0},onConnect:function(e,t){A.addConnection(c.id,n.id,e,t),p()}})),null!=o&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Te,{outputSlot:o,outputConnections:c.getOutputConnections(o.id),x:u,y:d+t*s,itemId:c.id,onConnect:function(e,t){A.addConnection(e,t,c.id,o.id),p()}})),null!=r&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe,{inputFlowSlot:r,inputFlowConnection:c.getInputFlowConnection(r.id),x:0,y:d+t*s,itemId:c.id,onConnect:function(e,t){A.addFlowConnection(c.id,r.id,e,t),p()}})),null!=i&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Me,{outputFlowSlot:i,outputFlowConnection:c.getOutputFlowConnection(i.id),x:u,y:d+t*s,itemId:c.id,onConnect:function(e,t){A.addFlowConnection(e,t,c.id,i.id),p()}})))})))}}]),n}(a.a.Component)),Ve=n(28),Re=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={isHovered:!1},o.handleOnEnter=o.handleOnEnter.bind(Object(h.a)(o)),o.handleOnExit=o.handleOnExit.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"handleOnEnter",value:function(){this.setState({isHovered:!0})}},{key:"handleOnExit",value:function(){this.setState({isHovered:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.startPos,o=t.endPos,r=t.nodeWidthOther,i=t.nodeHeight,l=t.handleOnClick,c=t.children,u=this.state.isHovered,s=i/2,d={x:(o.x-n.x-r)/2+(n.x+r),y:(o.y+s-n.y-s)/2+(n.y+s)},h="M".concat(n.x+r," ").concat(n.y+s-2," Q").concat(n.x+r+30," ").concat(n.y+s-2," ").concat(d.x," ").concat(d.y-2," Q").concat(o.x-30," ").concat(o.y+s-2," ").concat(o.x," ").concat(o.y+s-2);return a.a.createElement(a.a.Fragment,null,a.a.createElement(be.Path,{data:h,stroke:ge.Gray[800],strokeWidth:4}),a.a.createElement(be.Path,{data:h,className:"cursor-pointer",stroke:"transparent",strokeWidth:50,onMouseEnter:function(t){e.handleOnEnter();var n=t.target.getStage();n?n.container().style.cursor="pointer":console.error("The Konva stage could not be found.")},onMouseLeave:function(t){e.handleOnExit();var n=t.target.getStage();n?n.container().style.cursor="default":console.error("The Konva stage could not be found.")},onMouseDown:l,onTouchEnd:l}),null!=c?c(d,u):null)}}]),n}(a.a.Component),Pe=n(68),We=n.n(Pe),Le=function(){function e(t){Object(s.a)(this,e),this.name=void 0,this.subCategories=void 0,this.contentChildren=void 0,this.name=t,this.subCategories=[],this.contentChildren=[]}return Object(d.a)(e,[{key:"getSubCategory",value:function(t){var n=this.subCategories.find((function(e){return e.name===t}));return n||(n=new e(t),this.subCategories.push(n)),n}},{key:"addContent",value:function(e){if(this.contentChildren.find((function(t){return t.name===e})))console.error("A duplicate of the schema '".concat(e,"' was found."));else{var t=ue.getBaseSchema(e);this.contentChildren.push(t)}}}]),e}(),Ae=new(function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"getRootSchemaCategory",value:function(e){var t=new Le("root"),n=t;return e.forEach((function(e){var o,a=e.id.split("/");for(o=0;o<a.length-1;o++)n=n.getSubCategory(a[o]);n.addContent(e.id),n=t})),t}}]),e}()),Ge=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={showChildren:!0},o.toggleCategory=o.toggleCategory.bind(Object(h.a)(o)),o.openCategory=o.openCategory.bind(Object(h.a)(o)),o.closeCategory=o.closeCategory.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"toggleCategory",value:function(){this.state.showChildren?this.closeCategory():this.openCategory()}},{key:"openCategory",value:function(){this.setState({showChildren:!0})}},{key:"closeCategory",value:function(){this.setState({showChildren:!1})}},{key:"render",value:function(){var e=this.props,t=e.category,o=e.depth,r=e.addNodeItem,i=this.state.showChildren;return"hidden"===t.name.toLowerCase()?null:a.a.createElement("div",{style:{marginLeft:"".concat("root"===t.name?-1:0,"rem")}},"root"!==t.name&&a.a.createElement("div",{className:"flex flex-row items-center rounded-sm border-b bg-gray-900 hover:bg-gray-800 text-gray-100 cursor-pointer select-none",style:{borderColor:"#111111"},onClick:this.toggleCategory},a.a.createElement("div",{className:"px-2 text-xs"},a.a.createElement(m.a,{icon:"chevron-down",className:"".concat(i?"hidden":"")}),a.a.createElement(m.a,{icon:"chevron-up",className:"".concat(i?"":"hidden")})),a.a.createElement("div",{className:"text-sm"},t.name)),a.a.createElement("div",{className:"".concat(i?"":"hidden"," pl-4")},a.a.createElement("div",{className:""},t.subCategories.map((function(e,t){return a.a.createElement(n,{key:"category-".concat(o,"-").concat(t),category:e,depth:o+1,addNodeItem:r})}))),a.a.createElement("div",{className:""},t.contentChildren.map((function(e,t){return a.a.createElement("div",{key:"child-".concat(o,"-").concat(t),className:"px-2 rounded-sm hover:bg-gray-700 text-gray-100 cursor-pointer select-none",onClick:function(t){t.stopPropagation(),r(e.id)}},e.name)})))))}}]),n}(a.a.Component),Be=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={searchValue:"",schemaResults:ue.getBaseSchemas()},o.onSearchChange=o.onSearchChange.bind(Object(h.a)(o)),o.onSearchReset=o.onSearchReset.bind(Object(h.a)(o)),o.filterSearch=o.filterSearch.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.filterSearch("")}},{key:"onSearchChange",value:function(e){var t=e.target.value;this.filterSearch(t)}},{key:"onSearchReset",value:function(){this.filterSearch("")}},{key:"filterSearch",value:function(e){var t=ue.getBaseSchemas();t=t.filter((function(t){return(t.name.toLowerCase().includes(e.toLowerCase())||t.id.toLowerCase().includes(e.toLowerCase()))&&!t.id.toLowerCase().includes("hidden")})),this.setState({schemaResults:t,searchValue:e})}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.x,o=e.y,r=e.addNodeItem,i=this.state.schemaResults,l=Ae.getRootSchemaCategory(i);return a.a.createElement("div",{className:"".concat(t?"flex":"hidden"," flex-col absolute rounded bg-gray-900 bg-opacity-90"),style:{top:o,left:n,width:"".concat(Math.min(250,window.innerWidth-n),"px"),height:"".concat(Math.min(225,window.innerHeight-o),"px")}},a.a.createElement("div",{className:"p-3 h-12 flex flex-row w-full"},a.a.createElement("div",{className:"px-2 rounded-l-full bg-gray-100"},a.a.createElement(m.a,{icon:"search",className:"text-sm text-gray-700"})),a.a.createElement("input",{type:"text",value:this.state.searchValue,className:"w-full bg-gray-100 border-none text-sm",onChange:this.onSearchChange}),a.a.createElement("button",{className:"px-2 flex items-center rounded-r-full bg-gray-100",onClick:this.onSearchReset},a.a.createElement(m.a,{icon:"times-circle",className:"text-sm text-gray-700"}))),a.a.createElement(b.a,{noScrollX:!0},a.a.createElement(Ge,{category:l,depth:0,addNodeItem:r})))}}]),n}(a.a.Component),He=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).stageContainer=void 0,o.stage=void 0,o.stageContainer=a.a.createRef(),o.stage=a.a.createRef(),o.state={isDirtyDOM:!1,isReadyToMount:!1,isReady:!1,contextMenu:null,inputElement:null,isContextMenuShown:!1,contextMenuPos:{x:0,y:0},nodeInitPos:{x:0,y:0}},o.updateDOM=o.updateDOM.bind(Object(h.a)(o)),o.addNodeItem=o.addNodeItem.bind(Object(h.a)(o)),o.deleteNodeItem=o.deleteNodeItem.bind(Object(h.a)(o)),o.handleDragNode=o.handleDragNode.bind(Object(h.a)(o)),o.handleDeleteEdge=o.handleDeleteEdge.bind(Object(h.a)(o)),o.handleDeleteFlowEdge=o.handleDeleteFlowEdge.bind(Object(h.a)(o)),o.handleZoom=o.handleZoom.bind(Object(h.a)(o)),o.handleContextMenu=o.handleContextMenu.bind(Object(h.a)(o)),o.handleCancelContextMenu=o.handleCancelContextMenu.bind(Object(h.a)(o)),o.fitToParent=o.fitToParent.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.selectScriplet(this.props.scripletId).then((function(t){console.log(t),t&&e.setState({isReadyToMount:!0})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.fitToParent)}},{key:"componentDidUpdate",value:function(){if(this.state.isReadyToMount){var e;window.addEventListener("resize",this.fitToParent),this.fitToParent();var t=null===(e=this.stage.current)||void 0===e?void 0:e.getStage();if(t)new We.a("Font Awesome 5 Free").load().then((function(){console.log("Font Awesome 5 has loaded!"),t.draw()}),(function(){console.error("Font Awesome 5 has not loaded!")}));this.setState({isReadyToMount:!1,isReady:!0})}this.state.isDirtyDOM&&this.setState({isDirtyDOM:!1})}},{key:"updateDOM",value:function(){this.setState({isDirtyDOM:!0})}},{key:"addNodeItem",value:function(e){var t=this.state.nodeInitPos,n=L.currentScriplet;n?(n.addNode(t.x,t.y,e,[],[],new Map,[]),this.handleCancelContextMenu(),this.updateDOM()):console.error("The current scriplet of id '".concat(this.props.scripletId,"' could not be found."))}},{key:"deleteNodeItem",value:function(e){var t=L.currentScriplet;if(t){var n=t.getNode(e);if(n){var o=n.schema;o?o.isDeletable?A.deleteAllConnections(e)&&(t.deleteNode(e),this.updateDOM()):console.error("This schema cannot be deleted."):console.error("The schema of node item '".concat(e,"' could not be found."))}else console.error("The node item of id '".concat(e,"' could not be found."))}else console.error("The current scriplet of id '".concat(this.props.scripletId,"' could not be found."))}},{key:"handleDragNode",value:function(e,t,n){var o=L.currentScriplet;if(o){var a=o.getNode(e);a?(a.x=t,a.y=n,o.items.set(e,a),this.updateDOM()):console.error("The node of id '".concat(e,"' could not be found."))}else console.error("The current scriplet of id '".concat(this.props.scripletId,"' could not be found."))}},{key:"handleDeleteEdge",value:function(e,t,n,o){A.deleteConnection(e,t,n,o),this.updateDOM()}},{key:"handleDeleteFlowEdge",value:function(e,t,n,o){A.deleteFlowConnection(e,t,n,o),this.updateDOM()}},{key:"handleZoom",value:function(e){e.evt.preventDefault();var t=e.target.getStage();if(t){var n=t.scaleX(),o=t.getPointerPosition();if(o){var a=(o.x-t.x())/n,r=(o.y-t.y())/n,i=e.evt.deltaY<0?1.1*n:n/1.1;t.scale({x:i,y:i});var l={x:o.x-a*i,y:o.y-r*i};t.position(l),t.batchDraw()}else console.error("The Konva pointer position could not be found.")}else console.error("The Konva Stage could not be found.")}},{key:"handleContextMenu",value:function(e){if("Stage"===e.target.getType()){var t=e.target.getStage();if(e.target.getChildren((function(e){return"context-menu-layer"===e.getAttr("data-name")}))[0]&&t){var n=t.getPointerPosition();n?(n.x=(n.x-t.x())/t.scaleX(),n.y=(n.y-t.y())/t.scaleY(),this.setState({isContextMenuShown:!0,contextMenuPos:{x:e.evt.pageX,y:e.evt.pageY},nodeInitPos:n})):console.error("The Konva pointer position could not be found.")}else console.error("Either the Konva layer or Konva stage could not be found.")}}},{key:"handleCancelContextMenu",value:function(){this.setState({isContextMenuShown:!1})}},{key:"fitToParent",value:function(){var e=this.stageContainer.current,t=this.stage.current;if(e&&t){var n=t.getStage();n.width(e.offsetWidth),n.height(e.offsetHeight),n.draw()}else console.error("Either the referenced container or referenced stage could not be found.")}},{key:"render",value:function(){var e=this,t=this.state,n=t.isReadyToMount,o=t.isReady,r=t.isContextMenuShown,i=t.contextMenuPos;if(!n&&!o)return null;var l=L.currentScriplet;return l?a.a.createElement("div",{ref:this.stageContainer,className:"main"},a.a.createElement(Ve.c,{ref:this.stage,className:"bg-gray-200",onWheel:function(t){e.handleZoom(t),e.handleCancelContextMenu(),we.cancel()},onContextMenu:function(t){t.evt.preventDefault(),t.cancelBubble=!0,e.handleContextMenu(t)},onClick:function(t){e.handleCancelContextMenu(),we.cancel()},onDragStart:function(t){e.handleCancelContextMenu(),we.cancel()},draggable:!0},a.a.createElement(Ve.a,{id:"edges-layer"}),a.a.createElement(be.Layer,null,Object(ce.a)(l.getNodes()).map((function(t){var n=t.schema;if(!n)return console.error("The schema for node item '".concat(t.id,"' could not be found.")),null;var o=A.getInputConnections(t.id),r=A.getInputFlowConnections(t.id);return a.a.createElement(be.Group,{key:"node-".concat(t.id)},o.map((function(n){if(!n)return null;var o=l.getNode(n.itemId);if(!o)return console.error("The node item of id '".concat(n.itemId,"' could not be found.")),null;var r=o.schema;return r?a.a.createElement(Ve.b,{key:"edge-".concat(t.id,"-").concat(n.id,"-").concat(n.itemId,"-").concat(n.slotId),containerId:"edges-layer"},a.a.createElement(Re,{startPos:{x:o.x,y:o.y+40*n.slotId+30},endPos:{x:t.x,y:t.y+40*n.id+30},nodeWidthOther:r.width,nodeHeight:40,handleOnClick:function(){return e.handleDeleteEdge(t.id,n.id,n.itemId,n.slotId)}},(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(be.Rect,{visible:t,x:e.x-12,y:e.y-10,width:24,height:16,fill:ge.Gray[800],listening:!1}),a.a.createElement(be.Text,{visible:t,x:e.x-12,y:e.y-10,width:24,height:19,text:"\xd7",fontStyle:"bold",fontSize:20,align:"center",verticalAlign:"middle",fill:ge.Gray[100],listening:!1}))}))):(console.error("The schema for node item '".concat(o.id,"' could not be found.")),null)})),r.map((function(n){if(!n)return null;var o=l.getNode(n.itemId);if(!o)return console.error("The item of id '".concat(n.itemId,"' could not be found.")),null;var r=o.schema;return r?a.a.createElement(Ve.b,{key:"edge-flow-".concat(t.id,"-").concat(n.id,"-").concat(n.itemId,"-").concat(n.slotId),containerId:"edges-layer"},a.a.createElement(Re,{startPos:{x:o.x,y:o.y+40*n.slotId+30},endPos:{x:t.x,y:t.y+40*n.id+30},nodeWidthOther:r.width,nodeHeight:40,handleOnClick:function(){return e.handleDeleteFlowEdge(t.id,n.id,n.itemId,n.slotId)}},(function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(be.Rect,{visible:t,x:e.x-12,y:e.y-10,width:24,height:16,fill:ge.Gray[800],listening:!1}),a.a.createElement(be.Text,{visible:t,x:e.x-12,y:e.y-10,width:24,height:19,text:"\xd7",fontStyle:"bold",fontSize:20,align:"center",verticalAlign:"middle",fill:ge.Gray[100],listening:!1}))}))):(console.error("The schema for node item '".concat(o.id,"' could not be found.")),null)})),a.a.createElement(De,{item:t,width:n.width,rowHeight:40,topBarHeight:30,handleDragNode:e.handleDragNode,deleteNodeItem:e.deleteNodeItem,updateDOM:e.updateDOM}))}))),a.a.createElement(be.Layer,{"data-name":"context-menu-layer"})),a.a.createElement(Be,{isVisible:r,x:i.x,y:i.y,addNodeItem:this.addNodeItem})):(console.error("The current scriplet of id '".concat(this.props.scripletId,"' could not be found.")),null)}}]),n}(a.a.Component),ze=n(69);n(136),n(137);n(138);var Ke=n(139).js_beautify,Xe=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).codeResult=void 0,o.codeResult=a.a.createRef(),o.state={editorValue:Ke("return 42;",{indent_size:4}),isCodeOpen:!1,screenWidth:window.innerWidth},o.setScreenWidth=o.setScreenWidth.bind(Object(h.a)(o)),o.handleRun=o.handleRun.bind(Object(h.a)(o)),o.handleBeautifyCode=o.handleBeautifyCode.bind(Object(h.a)(o)),o.handleEvaluateNodes=o.handleEvaluateNodes.bind(Object(h.a)(o)),o.openCode=o.openCode.bind(Object(h.a)(o)),o.closeCode=o.closeCode.bind(Object(h.a)(o)),o.toggleCode=o.toggleCode.bind(Object(h.a)(o)),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setScreenWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setScreenWidth)}},{key:"setScreenWidth",value:function(){this.setState({screenWidth:window.innerWidth})}},{key:"handleRun",value:function(){var e=L.currentScriplet;if(e){var t=e.getStart().schema;if(t){var n=t.inputFlowSlots[0];n?n.evaluateSlot():console.error("The start node is missing the Entry input flow slot.")}else console.error("The start node is missing the schema.")}else console.error("The current scriplet could not be found.")}},{key:"handleBeautifyCode",value:function(){this.setState((function(e){return{editorValue:Ke(e.editorValue,{indent_size:4})}}))}},{key:"handleEvaluateNodes",value:function(){}},{key:"openCode",value:function(){this.setState({isCodeOpen:!0})}},{key:"closeCode",value:function(){this.setState({isCodeOpen:!1})}},{key:"toggleCode",value:function(){this.state.isCodeOpen?this.closeCode():this.openCode()}},{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"".concat(this.state.isCodeOpen?"code-container":"hidden"," shadow flex flex-row lg:flex-col")},a.a.createElement(ze.Controlled,{value:this.state.editorValue,options:{mode:"javascript",theme:"code-editor material",lineNumbers:!0},onBeforeChange:function(t,n,o){e.setState({editorValue:o})},onChange:function(e,t,n){}}),a.a.createElement("button",{className:"beautify-code items-center justify-center rounded shadow bg-gray-700 text-gray-200 hover:bg-gray-600 select-none",onClick:this.handleBeautifyCode},a.a.createElement(m.a,{className:"text-sm",icon:"magic"}),"\xa0 Beautify"),a.a.createElement("button",{className:"eval-code items-center justify-center rounded shadow bg-gray-700 text-gray-200 hover:bg-gray-600 select-none",onClick:this.handleEvaluateNodes},a.a.createElement(m.a,{className:"text-sm",icon:"lightbulb"}),"\xa0 Evaluate"),a.a.createElement("div",{className:"px-4 py-2 w-1/3 lg:w-auto lg:h-56 flex-grow bg-gray-800 text-gray-200",ref:this.codeResult},"Run code first"),a.a.createElement("button",{className:"run-code items-center justify-center rounded shadow bg-gray-700 text-gray-200 hover:bg-gray-600 select-none",onClick:this.handleRun},a.a.createElement(m.a,{className:"text-sm",icon:"play"}),"\xa0 Run")),a.a.createElement("div",{className:"".concat(this.state.isCodeOpen?"hidden":"collapsed-code"," shadow bg-gray-800 items-center lg:justify-center lg:items-start")},a.a.createElement("div",{className:"p-4"},a.a.createElement(m.a,{icon:"code",className:"text-xl text-gray-300"}))),a.a.createElement("button",{className:"".concat(this.state.isCodeOpen?"h-40 mb-8 pb-32":"h-16 mb-8 pb-8"," ").concat(this.state.screenWidth>=1024?"hidden":"code-toggle"," items-center flex-col-reverse rounded-full bg-gray-700"),onClick:this.toggleCode},a.a.createElement("div",{className:"inline-block pb-1"},a.a.createElement(m.a,{icon:"chevron-down",className:"".concat(this.state.isCodeOpen?"block":"hidden"," text-gray-300")}),a.a.createElement(m.a,{icon:"chevron-up",className:"".concat(this.state.isCodeOpen?"hidden":"block"," text-gray-300")}))),a.a.createElement("button",{className:"".concat(this.state.isCodeOpen?"w-64 mr-8 pr-56":"w-16 mr-8 pr-8"," ").concat(this.state.screenWidth>=1024?"code-toggle":"hidden"," items-center flex-row-reverse rounded-full bg-gray-700"),onClick:this.toggleCode},a.a.createElement("div",{className:"inline-block pr-2"},a.a.createElement(m.a,{icon:"chevron-right",className:"".concat(this.state.isCodeOpen?"block":"hidden"," text-gray-300")}),a.a.createElement(m.a,{icon:"chevron-left",className:"".concat(this.state.isCodeOpen?"hidden":"block"," text-gray-300")}))))}}]),n}(a.a.Component);function qe(e){var t=e.children,n=Object(u.f)().scripletId;return a.a.createElement(a.a.Fragment,null,null!=t?t(parseInt(n)):null)}l.b.add(c.a);var Qe=function(){return a.a.createElement("div",{className:"flex flex-col lg:flex-row"},a.a.createElement(ve,null),a.a.createElement("main",null,a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/scriplet/:scripletId"},a.a.createElement(qe,null,(function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(He,{scripletId:e}),a.a.createElement(Xe,{scripletId:e}))}))),a.a.createElement(u.a,{path:"/"},a.a.createElement("div",{className:"p-6 flex justify-center items-center h-screen w-screen"},a.a.createElement("h1",{className:"text-xl text-gray-600"},"Please select a scriplet first."))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v.a,{basename:"/vso"},a.a.createElement(Qe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,n){e.exports=n(141)},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.e14de82e.chunk.js.map